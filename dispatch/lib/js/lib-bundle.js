!function(v){function y(){return new Date(Date.UTC.apply(Date,arguments))}function b(e,t){this._process_options(t),this.element=v(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=v(S.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()}function l(e,t){this.element=v(e),this.inputs=v.map(t.inputs,function(e){return e.jquery?e[0]:e}),delete t.inputs,v(this.inputs).datepicker(t).bind("changeDate",v.proxy(this.dateUpdated,this)),this.pickers=v.map(this.inputs,function(e){return v(e).data("datepicker")}),this.updateDates()}var u=v(window),e=(b.prototype={constructor:b,_process_options:function(e){this._o=v.extend({},this._o,e);var t=this.o=v.extend({},this._o),e=t.language;switch(w[e]||(e=e.split("-")[0],w[e]||(e=d.language)),t.language=e,t.startView){case 2:case"decade":t.startView=2;break;case 1:case"year":t.startView=1;break;default:t.startView=0}switch(t.minViewMode){case 1:case"months":t.minViewMode=1;break;case 2:case"years":t.minViewMode=2;break;default:t.minViewMode=0}t.startView=Math.max(t.startView,t.minViewMode),t.weekStart%=7,t.weekEnd=(t.weekStart+6)%7;var e=S.parseFormat(t.format),i=(t.startDate!==-1/0&&(t.startDate=t.startDate?t.startDate instanceof Date?this._local_to_utc(this._zero_time(t.startDate)):S.parseDate(t.startDate,e,t.language):-1/0),1/0!==t.endDate&&(t.endDate=t.endDate?t.endDate instanceof Date?this._local_to_utc(this._zero_time(t.endDate)):S.parseDate(t.endDate,e,t.language):1/0),t.daysOfWeekDisabled=t.daysOfWeekDisabled||[],v.isArray(t.daysOfWeekDisabled)||(t.daysOfWeekDisabled=t.daysOfWeekDisabled.split(/[,\s]*/)),t.daysOfWeekDisabled=v.map(t.daysOfWeekDisabled,function(e){return parseInt(e,10)}),String(t.orientation).toLowerCase().split(/\s+/g)),e=t.orientation.toLowerCase(),i=v.grep(i,function(e){return/^auto|left|right|top|bottom$/.test(e)});if(t.orientation={x:"auto",y:"auto"},e&&"auto"!==e)if(1===i.length)switch(i[0]){case"top":case"bottom":t.orientation.y=i[0];break;case"left":case"right":t.orientation.x=i[0]}else e=v.grep(i,function(e){return/^left|right$/.test(e)}),t.orientation.x=e[0]||"auto",e=v.grep(i,function(e){return/^top|bottom$/.test(e)}),t.orientation.y=e[0]||"auto"},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,i,n=0;n<e.length;n++)t=e[n][0],i=e[n][1],t.on(i)},_unapplyEvents:function(e){for(var t,i,n=0;n<e.length;n++)t=e[n][0],i=e[n][1],t.off(i)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:v.proxy(this.show,this),keyup:v.proxy(this.update,this),keydown:v.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:v.proxy(this.show,this),keyup:v.proxy(this.update,this),keydown:v.proxy(this.keydown,this)}],[this.component,{click:v.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:v.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:v.proxy(this.click,this)}],[v(window),{resize:v.proxy(this.place,this)}],[v(document),{mousedown:v.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,t){var i=t||this.date,t=this._utc_to_local(i);this.element.trigger({type:e,date:t,format:v.proxy(function(e){e=e||this.o.format;return S.formatDate(i,e,this.o.language)},this)})},show:function(e){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=(this.component||this.element).outerHeight(),this.place(),this._attachSecondaryEvents(),e&&e.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(e){return new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(this._local_to_utc(e))},setUTCDate:function(e){this.date=e,this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change()},getFormattedDate:function(e){return void 0===e&&(e=this.o.format),S.formatDate(this.date,e,this.o.language)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){var e,t,i,n,a,o,s,r,l,d,c;this.isInline||(d=this.picker.outerWidth(),e=this.picker.outerHeight(),l=u.width(),t=u.height(),i=u.scrollTop(),n=parseInt(this.element.parents().filter(function(){return"auto"!=v(this).css("z-index")}).first().css("z-index"))+10,a=(this.component?this.component.parent():this.element).offset(),o=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),s=a.left,r=a.top,this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(s-=d-c)):(this.picker.addClass("datepicker-orient-left"),a.left<0?s-=a.left-10:a.left+d>l&&(s=l-d-10)),"auto"===(c=this.o.orientation.y)&&(l=-i+a.top-e,d=i+t-(a.top+o+e),c=Math.max(l,d)===d?"top":"bottom"),this.picker.addClass("datepicker-orient-"+c),"top"===c?r+=o:r-=e+parseInt(this.picker.css("padding-top")),this.picker.css({top:r,left:s,zIndex:n}))},_allow_update:!0,update:function(){var e,t,i;this._allow_update&&(t=new Date(this.date),i=!1,arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?((e=arguments[0])instanceof Date&&(e=this._local_to_utc(e)),i=!0):(e=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=S.parseDate(e,this.o.format,this.o.language),i?this.setValue():e?t.getTime()!==this.date.getTime()&&this._trigger("changeDate"):this._trigger("clearDate"),this.date<this.o.startDate?(this.viewDate=new Date(this.o.startDate),this.date=new Date(this.o.startDate)):this.date>this.o.endDate?(this.viewDate=new Date(this.o.endDate),this.date=new Date(this.o.endDate)):(this.viewDate=new Date(this.date),this.date=new Date(this.date)),this.fill())},fillDow:function(){var e,t=this.o.weekStart,i="<tr>";for(this.o.calendarWeeks&&(i+=e='<th class="cw">&nbsp;</th>',this.picker.find(".datepicker-days thead tr:first-child").prepend(e));t<this.o.weekStart+7;)i+='<th class="dow">'+w[this.o.language].daysMin[t++%7]+"</th>";i+="</tr>",this.picker.find(".datepicker-days thead").append(i)},fillMonths:function(){for(var e="",t=0;t<12;)e+='<span class="month">'+w[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(e){e&&e.length?this.range=v.map(e,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var t=[],i=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),a=this.date.valueOf(),o=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()==i&&e.getUTCMonth()<n?t.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()==i&&e.getUTCMonth()>n)&&t.push("new"),this.o.todayHighlight&&e.getUTCFullYear()==o.getFullYear()&&e.getUTCMonth()==o.getMonth()&&e.getUTCDate()==o.getDate()&&t.push("today"),a&&e.valueOf()==a&&t.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==v.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&t.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&t.push("range"),-1!=v.inArray(e.valueOf(),this.range)&&t.push("selected")),t},fill:function(){var e,t=new Date(this.viewDate),i=t.getUTCFullYear(),t=t.getUTCMonth(),n=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,o=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,s=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0,r=(this.date&&this.date.valueOf(),this.picker.find(".datepicker-days thead th.datepicker-switch").text(w[this.o.language].months[t]+" "+i),this.picker.find("tfoot th.today").text(w[this.o.language].today).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot th.clear").text(w[this.o.language].clear).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths(),y(i,t-1,28,0,0,0,0)),t=S.getDaysInMonth(r.getUTCFullYear(),r.getUTCMonth());r.setUTCDate(t),r.setUTCDate(t-(r.getUTCDay()-this.o.weekStart+7)%7),(c=new Date(r)).setUTCDate(c.getUTCDate()+42);for(var l,d,c=c.valueOf(),u=[];r.valueOf()<c;)r.getUTCDay()==this.o.weekStart&&(u.push("<tr>"),this.o.calendarWeeks&&(d=new Date(+r+(this.o.weekStart-r.getUTCDay()-7)%7*864e5),d=new Date(+d+(11-d.getUTCDay())%7*864e5),l=new Date(+(l=y(d.getUTCFullYear(),0,1))+(11-l.getUTCDay())%7*864e5),u.push('<td class="cw">'+((d-l)/864e5/7+1)+"</td>"))),(d=this.getClassNames(r)).push("day"),this.o.beforeShowDay!==v.noop&&(void 0===(l=this.o.beforeShowDay(this._utc_to_local(r)))?l={}:"boolean"==typeof l?l={enabled:l}:"string"==typeof l&&(l={classes:l}),!1===l.enabled&&d.push("disabled"),l.classes&&(d=d.concat(l.classes.split(/\s+/))),l.tooltip&&(e=l.tooltip)),d=v.unique(d),u.push('<td class="'+d.join(" ")+'"'+(e?' title="'+e+'"':"")+">"+r.getUTCDate()+"</td>"),r.getUTCDay()==this.o.weekEnd&&u.push("</tr>"),r.setUTCDate(r.getUTCDate()+1);this.picker.find(".datepicker-days tbody").empty().append(u.join(""));var h=this.date&&this.date.getUTCFullYear(),t=this.picker.find(".datepicker-months").find("th:eq(1)").text(i).end().find("span").removeClass("active"),a=(h&&h==i&&t.eq(this.date.getUTCMonth()).addClass("active"),(i<n||o<i)&&t.addClass("disabled"),i==n&&t.slice(0,a).addClass("disabled"),i==o&&t.slice(s+1).addClass("disabled"),u="",i=10*parseInt(i/10,10),this.picker.find(".datepicker-years").find("th:eq(1)").text(i+"-"+(i+9)).end().find("td"));--i;for(var p=-1;p<11;p++)u+='<span class="year'+(-1==p?" old":10==p?" new":"")+(h==i?" active":"")+(i<n||o<i?" disabled":"")+'">'+i+"</span>",i+=1;a.html(u)},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var t,i,n,a,o=v(e.target).closest("span, td, th");if(1==o.length)switch(o[0].nodeName.toLowerCase()){case"th":switch(o[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var s=S.modes[this.viewMode].navStep*("prev"==o[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var r=y((r=new Date).getFullYear(),r.getMonth(),r.getDate(),0,0,0),l=(this.showMode(-2),"linked"==this.o.todayBtn?null:"view");this._setDate(r,l);break;case"clear":this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":o.is(".disabled")||(this.viewDate.setUTCDate(1),o.is(".month")?(i=1,a=o.parent().find("span").index(o),n=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(y(n,a,i,0,0,0,0))):(n=parseInt(o.text(),10)||0,i=1,a=0,this.viewDate.setUTCFullYear(n),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(y(n,a,i,0,0,0,0))),this.showMode(-1),this.fill());break;case"td":o.is(".day")&&!o.is(".disabled")&&(i=parseInt(o.text(),10)||1,n=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),o.is(".old")?0===a?(a=11,--n):--a:o.is(".new")&&(11==a?(a=0,n+=1):a+=1),this._setDate(y(n,a,i,0,0,0,0)))}},_setDate:function(e,t){var i;t&&"date"!=t||(this.date=new Date(e)),t&&"view"!=t||(this.viewDate=new Date(e)),this.fill(),this.setValue(),this._trigger("changeDate"),this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||t&&"date"!=t||this.hide()},moveMonth:function(e,t){if(!t)return e;var i,n,a=new Date(e.valueOf()),o=a.getUTCDate(),s=a.getUTCMonth(),r=Math.abs(t);if(t=0<t?1:-1,1==r)n=-1==t?function(){return a.getUTCMonth()==s}:function(){return a.getUTCMonth()!=i},i=s+t,a.setUTCMonth(i),(i<0||11<i)&&(i=(i+12)%12);else{for(var l=0;l<r;l++)a=this.moveMonth(a,t);i=a.getUTCMonth(),a.setUTCDate(o),n=function(){return i!=a.getUTCMonth()}}for(;n();)a.setUTCDate(--o),a.setUTCMonth(i);return a},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))27==e.keyCode&&this.show();else{var t,i,n,a,o=!1;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:this.o.keyboardNavigation&&(t=37==e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.date,t),n=this.moveYear(this.viewDate,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.date,t),n=this.moveMonth(this.viewDate,t),this._trigger("changeMonth",this.viewDate)):((i=new Date(this.date)).setUTCDate(this.date.getUTCDate()+t),(n=new Date(this.viewDate)).setUTCDate(this.viewDate.getUTCDate()+t)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),e.preventDefault(),o=!0));break;case 38:case 40:this.o.keyboardNavigation&&(t=38==e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.date,t),n=this.moveYear(this.viewDate,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.date,t),n=this.moveMonth(this.viewDate,t),this._trigger("changeMonth",this.viewDate)):((i=new Date(this.date)).setUTCDate(this.date.getUTCDate()+7*t),(n=new Date(this.viewDate)).setUTCDate(this.viewDate.getUTCDate()+7*t)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),e.preventDefault(),o=!0));break;case 13:this.hide(),e.preventDefault();break;case 9:this.hide()}o&&(this._trigger("changeDate"),this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change())}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+S.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}},l.prototype={updateDates:function(){this.dates=v.map(this.pickers,function(e){return e.date}),this.updateRanges()},updateRanges:function(){var i=v.map(this.dates,function(e){return e.valueOf()});v.each(this.pickers,function(e,t){t.setRange(i)})},dateUpdated:function(e){var t=v(e.target).data("datepicker").getUTCDate(),i=v.inArray(e.target,this.inputs),n=this.inputs.length;if(-1!=i){if(t<this.dates[i])for(;0<=i&&t<this.dates[i];)this.pickers[i--].setUTCDate(t);else if(t>this.dates[i])for(;i<n&&t>this.dates[i];)this.pickers[i++].setUTCDate(t);this.updateDates()}},remove:function(){v.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}},v.fn.datepicker),d=(v.fn.datepicker=function(o){var s,r=Array.apply(null,arguments);return r.shift(),this.each(function(){var e,t,i=v(this),n=i.data("datepicker"),a="object"==typeof o&&o;return n||(t=function(e,t){var i,n,a=v(e).data(),o={},s=new RegExp("^"+t.toLowerCase()+"([A-Z])"),t=new RegExp("^"+t.toLowerCase());for(n in a)t.test(n)&&(i=n.replace(s,function(e,t){return t.toLowerCase()}),o[i]=a[n]);return o}(this,"date"),e=function(e){var i,n={};if(w[e]||(e=e.split("-")[0],w[e]))return i=w[e],v.each(c,function(e,t){t in i&&(n[t]=i[t])}),n}(v.extend({},d,t,a).language),e=v.extend({},d,e,t,a),i.is(".input-daterange")||e.inputs?(t={inputs:e.inputs||i.find("input").toArray()},i.data("datepicker",n=new l(this,v.extend(e,t)))):i.data("datepicker",n=new b(this,e))),("string"!=typeof o||"function"!=typeof n[o]||void 0===(s=n[o].apply(n,r)))&&void 0}),void 0!==s?s:this},v.fn.datepicker.defaults={autoclose:!1,beforeShowDay:v.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0}),c=v.fn.datepicker.locale_opts=["format","rtl","weekStart"],w=(v.fn.datepicker.Constructor=b,v.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}}),S={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return 0==e%4&&0!=e%100||0==e%400},getDaysInMonth:function(e,t){return[31,S.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),e=e.match(this.validParts);if(t&&t.length&&e&&0!==e.length)return{separators:t,parts:e};throw new Error("Invalid date format.")},parseDate:function(e,t,i){if(!(e instanceof Date)){if("string"==typeof t&&(t=S.parseFormat(t)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){var n,a=/([\-+]\d+)([dmwy])/,o=e.match(/([\-+]\d+)([dmwy])/g);e=new Date;for(var s=0;s<o.length;s++)switch(d=a.exec(o[s]),n=parseInt(d[1]),d[2]){case"d":e.setUTCDate(e.getUTCDate()+n);break;case"m":e=b.prototype.moveMonth.call(b.prototype,e,n);break;case"w":e.setUTCDate(e.getUTCDate()+7*n);break;case"y":e=b.prototype.moveYear.call(b.prototype,e,n)}return y(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),0,0,0)}var r,l,d,o=e&&e.match(this.nonpunctuation)||[],e=new Date,c={},u=["yyyy","yy","M","MM","m","mm","d","dd"],h={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(!isNaN(e)){for(--t;t<0;)t+=12;for(e.setUTCMonth(t%=12);e.getUTCMonth()!=t;)e.setUTCDate(e.getUTCDate()-1)}return e},d:function(e,t){return e.setUTCDate(t)}},p=(h.M=h.MM=h.mm=h.m,h.dd=h.d,e=y(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),t.parts.slice());if(o.length!=p.length&&(p=v(p).filter(function(e,t){return-1!==v.inArray(t,u)}).toArray()),o.length==p.length){for(var s=0,g=p.length;s<g;s++){if(r=parseInt(o[s],10),d=p[s],isNaN(r))switch(d){case"MM":l=v(w[i].months).filter(function(){var e=this.slice(0,o[s].length);return e==o[s].slice(0,e.length)}),r=v.inArray(l[0],w[i].months)+1;break;case"M":l=v(w[i].monthsShort).filter(function(){var e=this.slice(0,o[s].length);return e==o[s].slice(0,e.length)}),r=v.inArray(l[0],w[i].monthsShort)+1}c[d]=r}for(var f,m,s=0;s<u.length;s++)(m=u[s])in c&&!isNaN(c[m])&&(f=new Date(e),h[m](f,c[m]),isNaN(f)||(e=f))}}return e},formatDate:function(e,t,i){"string"==typeof t&&(t=S.parseFormat(t));var n={d:e.getUTCDate(),D:w[i].daysShort[e.getUTCDay()],DD:w[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:w[i].monthsShort[e.getUTCMonth()],MM:w[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m;for(var e=[],a=v.extend([],t.separators),o=0,s=t.parts.length;o<=s;o++)a.length&&e.push(a.shift()),e.push(n[t.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};S.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+S.headTemplate+"<tbody></tbody>"+S.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+S.headTemplate+S.contTemplate+S.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+S.headTemplate+S.contTemplate+S.footTemplate+"</table></div></div>",v.fn.datepicker.DPGlobal=S,v.fn.datepicker.noConflict=function(){return v.fn.datepicker=e,this},v(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var t=v(this);t.data("datepicker")||(e.preventDefault(),t.datepicker("show"))}),v(function(){v('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),jQuery.fn.datepicker.dates.ar={days:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت","الأحد"],daysShort:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت","أحد"],daysMin:["ح","ن","ث","ع","خ","ج","س","ح"],months:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],monthsShort:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],today:"هذا اليوم",rtl:!0},jQuery.fn.datepicker.dates.bg={days:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота","Неделя"],daysShort:["Нед","Пон","Вто","Сря","Чет","Пет","Съб","Нед"],daysMin:["Н","П","В","С","Ч","П","С","Н"],months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],monthsShort:["Ян","Фев","Мар","Апр","Май","Юни","Юли","Авг","Сеп","Окт","Ное","Дек"],today:"днес"},jQuery.fn.datepicker.dates.ca={days:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte","Diumenge"],daysShort:["Diu","Dil","Dmt","Dmc","Dij","Div","Dis","Diu"],daysMin:["dg","dl","dt","dc","dj","dv","ds","dg"],months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],monthsShort:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],today:"Avui"},jQuery.fn.datepicker.dates.cs={days:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota","Neděle"],daysShort:["Ned","Pon","Úte","Stř","Čtv","Pát","Sob","Ned"],daysMin:["Ne","Po","Út","St","Čt","Pá","So","Ne"],months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],monthsShort:["Led","Úno","Bře","Dub","Kvě","Čer","Čnc","Srp","Zář","Říj","Lis","Pro"],today:"Dnes"},jQuery.fn.datepicker.dates.da={days:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag","Søndag"],daysShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør","Søn"],daysMin:["Sø","Ma","Ti","On","To","Fr","Lø","Sø"],months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"I Dag"},jQuery.fn.datepicker.dates.de={days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],daysShort:["Son","Mon","Die","Mit","Don","Fre","Sam","Son"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa","So"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],today:"Heute",weekStart:1,format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates.el={days:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο","Κυριακή"],daysShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ","Κυρ"],daysMin:["Κυ","Δε","Τρ","Τε","Πε","Πα","Σα","Κυ"],months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],monthsShort:["Ιαν","Φεβ","Μαρ","Απρ","Μάι","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],today:"Σήμερα"},jQuery.fn.datepicker.dates.es={days:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],daysShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb","Dom"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa","Do"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy"},jQuery.fn.datepicker.dates.et={days:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev","Pühapäev"],daysShort:["Püh","Esm","Tei","Kol","Nel","Ree","Lau","Sun"],daysMin:["P","E","T","K","N","R","L","P"],months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],monthsShort:["Jaan","Veeb","Märts","Apr","Mai","Juuni","Juuli","Aug","Sept","Okt","Nov","Dets"],today:"Täna"},jQuery.fn.datepicker.dates.fi={days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai","sunnuntai"],daysShort:["sun","maa","tii","kes","tor","per","lau","sun"],daysMin:["su","ma","ti","ke","to","pe","la","su"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],monthsShort:["tam","hel","maa","huh","tou","kes","hei","elo","syy","lok","mar","jou"],today:"tänään",weekStart:1,format:"d.m.yyyy"},jQuery.fn.datepicker.dates.fr={days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],daysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],daysMin:["D","L","Ma","Me","J","V","S","D"],months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthsShort:["Jan","Fev","Mar","Avr","Mai","Jui","Jul","Aou","Sep","Oct","Nov","Dec"],today:"Aujourd'hui",clear:"Effacer",weekStart:1,format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.he={days:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת","ראשון"],daysShort:["א","ב","ג","ד","ה","ו","ש","א"],daysMin:["א","ב","ג","ד","ה","ו","ש","א"],months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],monthsShort:["ינו","פבר","מרץ","אפר","מאי","יונ","יול","אוג","ספט","אוק","נוב","דצמ"],today:"היום",rtl:!0},jQuery.fn.datepicker.dates.hr={days:["Nedjelja","Ponedjelja","Utorak","Srijeda","Četrtak","Petak","Subota","Nedjelja"],daysShort:["Ned","Pon","Uto","Srr","Čet","Pet","Sub","Ned"],daysMin:["Ne","Po","Ut","Sr","Če","Pe","Su","Ne"],months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],monthsShort:["Sije","Velj","Ožu","Tra","Svi","Lip","Jul","Kol","Ruj","Lis","Stu","Pro"],today:"Danas"},jQuery.fn.datepicker.dates.hu={days:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat","Vasárnap"],daysShort:["Vas","Hét","Ked","Sze","Csü","Pén","Szo","Vas"],daysMin:["Va","Hé","Ke","Sz","Cs","Pé","Sz","Va"],months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],monthsShort:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Sze","Okt","Nov","Dec"],today:"Ma",weekStart:1,format:"yyyy.mm.dd"},jQuery.fn.datepicker.dates.id={days:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"],daysShort:["Mgu","Sen","Sel","Rab","Kam","Jum","Sab","Mgu"],daysMin:["Mg","Sn","Sl","Ra","Ka","Ju","Sa","Mg"],months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],today:"Hari Ini",clear:"Kosongkan"},jQuery.fn.datepicker.dates.is={days:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur","Sunnudagur"],daysShort:["Sun","Mán","Þri","Mið","Fim","Fös","Lau","Sun"],daysMin:["Su","Má","Þr","Mi","Fi","Fö","La","Su"],months:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Maí","Jún","Júl","Ágú","Sep","Okt","Nóv","Des"],today:"Í Dag"},jQuery.fn.datepicker.dates.it={days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Domenica"],daysShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab","Dom"],daysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa","Do"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",weekStart:1,format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.ja={days:["日曜","月曜","火曜","水曜","木曜","金曜","土曜","日曜"],daysShort:["日","月","火","水","木","金","土","日"],daysMin:["日","月","火","水","木","金","土","日"],months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthsShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],today:"今日",format:"yyyy/mm/dd"},jQuery.fn.datepicker.dates.ka={days:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი","კვირა"],daysShort:["კვი","ორშ","სამ","ოთხ","ხუთ","პარ","შაბ","კვი"],daysMin:["კვ","ორ","სა","ოთ","ხუ","პა","შა","კვ"],months:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომები","ნოემბერი","დეკემბერი"],monthsShort:["იან","თებ","მარ","აპრ","მაი","ივნ","ივლ","აგვ","სექ","ოქტ","ნოე","დეკ"],today:"დღეს",clear:"გასუფთავება"},jQuery.fn.datepicker.dates.kr={days:["일요일","월요일","화요일","수요일","목요일","금요일","토요일","일요일"],daysShort:["일","월","화","수","목","금","토","일"],daysMin:["일","월","화","수","목","금","토","일"],months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthsShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},jQuery.fn.datepicker.dates.lt={days:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis","Sekmadienis"],daysShort:["S","Pr","A","T","K","Pn","Š","S"],daysMin:["Sk","Pr","An","Tr","Ke","Pn","Št","Sk"],months:["Sausis","Vasaris","Kovas","Balandis","Gegužė","Birželis","Liepa","Rugpjūtis","Rugsėjis","Spalis","Lapkritis","Gruodis"],monthsShort:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rugp","Rugs","Spa","Lap","Gru"],today:"Šiandien",weekStart:1},jQuery.fn.datepicker.dates.lv={days:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena","Svētdiena"],daysShort:["Sv","P","O","T","C","Pk","S","Sv"],daysMin:["Sv","Pr","Ot","Tr","Ce","Pk","St","Sv"],months:["Janvāris","Februāris","Marts","Aprīlis","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jūn","Jūl","Aug","Sep","Okt","Nov","Dec."],today:"Šodien",weekStart:1},jQuery.fn.datepicker.dates.mk={days:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота","Недела"],daysShort:["Нед","Пон","Вто","Сре","Чет","Пет","Саб","Нед"],daysMin:["Не","По","Вт","Ср","Че","Пе","Са","Не"],months:["Јануари","Февруари","Март","Април","Мај","Јуни","Јули","Август","Септември","Октомври","Ноември","Декември"],monthsShort:["Јан","Фев","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Ное","Дек"],today:"Денес"},jQuery.fn.datepicker.dates.ms={days:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu","Ahad"],daysShort:["Aha","Isn","Sel","Rab","Kha","Jum","Sab","Aha"],daysMin:["Ah","Is","Se","Ra","Kh","Ju","Sa","Ah"],months:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ogo","Sep","Okt","Nov","Dis"],today:"Hari Ini"},jQuery.fn.datepicker.dates.nb={days:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag","Søndag"],daysShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør","Søn"],daysMin:["Sø","Ma","Ti","On","To","Fr","Lø","Sø"],months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],today:"I Dag"},jQuery.fn.datepicker.dates.nl={days:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zondag"],daysShort:["Zo","Ma","Di","Wo","Do","Vr","Za","Zo"],daysMin:["Zo","Ma","Di","Wo","Do","Vr","Za","Zo"],months:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"Vandaag"},jQuery.fn.datepicker.dates.no={days:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],daysShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],daysMin:["Sø","Ma","Ti","On","To","Fr","Lø"],months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],today:"I dag",clear:"Nullstill",weekStart:0},jQuery.fn.datepicker.dates.pl={days:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota","Niedziela"],daysShort:["Nie","Pn","Wt","Śr","Czw","Pt","So","Nie"],daysMin:["N","Pn","Wt","Śr","Cz","Pt","So","N"],months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthsShort:["Sty","Lu","Mar","Kw","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],today:"Dzisiaj",weekStart:1},jQuery.fn.datepicker.dates["pt-BR"]={days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado","Domingo"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb","Dom"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa","Do"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje",clear:"Limpar"},jQuery.fn.datepicker.dates.pt={days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado","Domingo"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb","Dom"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa","Do"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje",clear:"Limpar"},jQuery.fn.datepicker.dates.ro={days:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă","Duminică"],daysShort:["Dum","Lun","Mar","Mie","Joi","Vin","Sâm","Dum"],daysMin:["Du","Lu","Ma","Mi","Jo","Vi","Sâ","Du"],months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],monthsShort:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],today:"Astăzi",weekStart:1},jQuery.fn.datepicker.dates["rs-latin"]={days:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota","Nedelja"],daysShort:["Ned","Pon","Uto","Sre","Čet","Pet","Sub","Ned"],daysMin:["N","Po","U","Sr","Č","Pe","Su","N"],months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],today:"Danas"},jQuery.fn.datepicker.dates.rs={days:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота","Недеља"],daysShort:["Нед","Пон","Уто","Сре","Чет","Пет","Суб","Нед"],daysMin:["Н","По","У","Ср","Ч","Пе","Су","Н"],months:["Јануар","Фебруар","Март","Април","Мај","Јун","Јул","Август","Септембар","Октобар","Новембар","Децембар"],monthsShort:["Јан","Феб","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Нов","Дец"],today:"Данас"},jQuery.fn.datepicker.dates.ru={days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],daysShort:["Вск","Пнд","Втр","Срд","Чтв","Птн","Суб","Вск"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб","Вс"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",weekStart:1},jQuery.fn.datepicker.dates.sk={days:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota","Nedeľa"],daysShort:["Ned","Pon","Uto","Str","Štv","Pia","Sob","Ned"],daysMin:["Ne","Po","Ut","St","Št","Pia","So","Ne"],months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],today:"Dnes"},jQuery.fn.datepicker.dates.sl={days:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota","Nedelja"],daysShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob","Ned"],daysMin:["Ne","Po","To","Sr","Če","Pe","So","Ne"],months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],today:"Danes"},jQuery.fn.datepicker.dates.sq={days:["E Diel","E Hënë","E martē","E mërkurë","E Enjte","E Premte","E Shtunë","E Diel"],daysShort:["Die","Hën","Mar","Mër","Enj","Pre","Shtu","Die"],daysMin:["Di","Hë","Ma","Më","En","Pr","Sht","Di"],months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],monthsShort:["Jan","Shk","Mar","Pri","Maj","Qer","Korr","Gu","Sht","Tet","Nën","Dhjet"],today:"Sot"},jQuery.fn.datepicker.dates.sv={days:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag","Söndag"],daysShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör","Sön"],daysMin:["Sö","Må","Ti","On","To","Fr","Lö","Sö"],months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"I Dag",format:"yyyy-mm-dd",weekStart:1},jQuery.fn.datepicker.dates.sw={days:["Jumapili","Jumatatu","Jumanne","Jumatano","Alhamisi","Ijumaa","Jumamosi","Jumapili"],daysShort:["J2","J3","J4","J5","Alh","Ij","J1","J2"],daysMin:["2","3","4","5","A","I","1","2"],months:["Januari","Februari","Machi","Aprili","Mei","Juni","Julai","Agosti","Septemba","Oktoba","Novemba","Desemba"],monthsShort:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ago","Sep","Okt","Nov","Des"],today:"Leo"},jQuery.fn.datepicker.dates.th={days:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัส","ศุกร์","เสาร์","อาทิตย์"],daysShort:["อา","จ","อ","พ","พฤ","ศ","ส","อา"],daysMin:["อา","จ","อ","พ","พฤ","ศ","ส","อา"],months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],monthsShort:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],today:"วันนี้"},jQuery.fn.datepicker.dates.tr={days:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"],daysShort:["Pz","Pzt","Sal","Çrş","Prş","Cu","Cts","Pz"],daysMin:["Pz","Pzt","Sa","Çr","Pr","Cu","Ct","Pz"],months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthsShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],today:"Bugün",format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates.uk={days:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота","Неділя"],daysShort:["Нед","Пнд","Втр","Срд","Чтв","Птн","Суб","Нед"],daysMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб","Нд"],months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthsShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],today:"Сьогодні"},jQuery.fn.datepicker.dates["zh-CN"]={days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["周日","周一","周二","周三","周四","周五","周六","周日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今日",format:"yyyy年mm月dd日",weekStart:1},jQuery.fn.datepicker.dates["zh-TW"]={days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["週日","週一","週二","週三","週四","週五","週六","週日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今天",format:"yyyy年mm月dd日",weekStart:1},(dp=angular.module("ng-bootstrap-datepicker",[])).directive("ngDatepicker",function(){return{restrict:"A",replace:!0,scope:{ngOptions:"=",ngModel:"="},template:'<div class="input-append date">\n  <input type="text"><span class="add-on"><i class="icon-th"></i></span>\n</div>',link:function(a,t){return a.inputHasFocus=!1,t.datepicker(a.ngOptions).on("changeDate",function(e){var t=$.fn.datepicker.defaults.format,i=a.ngOptions.format||t,t=$.fn.datepicker.defaults.language,n=a.ngOptions.language||t;return a.$apply(function(){return a.ngModel=$.fn.datepicker.DPGlobal.formatDate(e.date,i,n)})}),t.find("input").on("focus",function(){return a.inputHasFocus=!0}).on("blur",function(){return a.inputHasFocus=!1}),a.$watch("ngModel",function(e){return a.inputHasFocus?void 0:t.datepicker("update",e)})}}});var dp,_slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var i=t,n=[],a=!0,t=!1,o=void 0;try{for(var s,r=e[Symbol.iterator]();!(a=(s=r.next()).done)&&(n.push(s.value),!i||n.length!==i);a=!0);}catch(e){t=!0,o=e}finally{try{!a&&r.return&&r.return()}finally{if(t)throw o}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")};angular.module("ui.mention",[]).directive("uiMention",function(){return{require:["ngModel","uiMention"],controller:"uiMention",controllerAs:"$mention",link:function(e,t,i,n){var n=_slicedToArray(n,2),a=n[0];n[1].init(a)}}}),angular.module("ui.mention").controller("uiMention",["$element","$scope","$attrs","$q","$timeout","$document",function(n,i,t,a,o,s){var r,l=this,d=(this.delimiter="@",this.searchPattern=this.pattern||new RegExp("(?:\\s+|^)"+this.delimiter+"(\\w+(?: \\w+)?)$"),this.decodePattern=new RegExp(this.delimiter+"[[\\s\\w]+:[0-9a-z-]+]","gi"),this.$element=n,this.choices=[],this.mentions=[],this.init=function(e){var i=this;t.ngTrim="false",(r=e).$parsers.push(function(t){return i.mentions=i.mentions.filter(function(e){if(~t.indexOf(i.label(e)))return t=t.replace(i.label(e),i.encode(e))}),i.render(t),t}),r.$formatters.push(function(){var t=(t=arguments.length<=0||void 0===arguments[0]?"":arguments[0]).toString();return i.mentions=i.mentions.filter(function(e){return!!~t.indexOf(i.encode(e))&&(t=t.replace(i.encode(e),i.label(e)),!0)}),t}),r.$render=function(){n.val(r.$viewValue||""),o(i.autogrow,!0),i.render()}},document.createElement("span"));this.render=function(){var t=arguments.length<=0||void 0===arguments[0]?r.$modelValue:arguments[0];return t=function(e){try{return d.textContent=e,d.innerHTML}finally{d.textContent=null}}(t=(t||"").toString()),l.mentions.forEach(function(e){t=t.replace(l.encode(e),l.highlight(e))}),l.renderElement().html(t),t},this.renderElement=function(){return n.next()},this.highlight=function(e){return"<span>"+this.label(e)+"</span>"},this.decode=function(){var e=arguments.length<=0||void 0===arguments[0]?r.$modelValue:arguments[0];return e?e.replace(this.decodePattern,"$1"):""},this.label=function(e){return e.first+" "+e.last},this.encode=function(e){return this.delimiter+"["+this.label(e)+":"+e.id+"]"},this.replace=function(e){var t=arguments.length<=1||void 0===arguments[1]?this.searching:arguments[1],i=arguments.length<=2||void 0===arguments[2]?r.$viewValue:arguments[2];return i=i.substr(0,t.index+t[0].indexOf(this.delimiter))+this.label(e)+" "+i.substr(t.index+t[0].length)},this.select=function(){var e=arguments.length<=0||void 0===arguments[0]?this.activeChoice:arguments[0];if(!e)return!1;this.mentions.push(e),r.$setViewValue(this.replace(e)),this.cancel(),r.$render()},this.up=function(){var e=this.choices.indexOf(this.activeChoice);this.activeChoice=0<e?this.choices[e-1]:this.choices[this.choices.length-1]},this.down=function(){var e=this.choices.indexOf(this.activeChoice);e<this.choices.length-1?this.activeChoice=this.choices[e+1]:this.activeChoice=this.choices[0]},this.search=function(e){var t=this;return this.searching=e,a.when(this.findChoices(e,this.mentions)).then(function(e){return t.choices=e,t.activeChoice=e[0],e})},this.findChoices=function(e,t){return[]},this.cancel=function(){this.choices=[],this.searching=null},this.autogrow=function(){n[0].style.height=0,"border-box"==getComputedStyle(n[0]).boxSizing&&(n[0].style.height=n[0].scrollHeight+"px")},n.on("keyup click focus",function(e){if(l.moved)return l.moved=!1;var t;n[0].selectionStart==n[0].selectionEnd&&(t=n.val(),(t=l.searchPattern.exec(t.substr(0,n[0].selectionStart)))?l.search(t):l.cancel(),i.$$phase||i.$apply())}),n.on("keydown",function(e){if(l.searching){switch(e.keyCode){case 13:l.select();break;case 38:l.up();break;case 40:l.down();break;case 27:l.cancel();break;default:return}l.moved=!0,e.preventDefault(),i.$$phase||i.$apply()}}),this.onMouseup=function(e){var t=this;e.target!=n[0]&&(s.off("mouseup",this.onMouseup),this.searching&&i.$evalAsync(function(){t.cancel()}))}.bind(this),n.on("focus",function(e){s.on("mouseup",l.onMouseup)}),n.on("input",this.autogrow),o(this.autogrow,!0)}]),function(ge){ge.floatThead=ge.floatThead||{},ge.floatThead.defaults={headerCellSelector:"tr:visible:first>*:visible",zIndex:1001,position:"auto",top:0,bottom:0,scrollContainer:function(e){return ge([])},responsiveContainer:function(e){return ge([])},getSizingRow:function(e,t,i){return e.find("tbody tr:visible:first>*:visible")},floatTableClass:"floatThead-table",floatWrapperClass:"floatThead-wrapper",floatContainerClass:"floatThead-container",copyTableClass:!0,autoReflow:!1,debug:!1,support:{bootstrap:!0,datatables:!0,jqueryUI:!0,perfectScrollbar:!0}};var n,i,a,e,t,fe=window._||(n={},i=Object.prototype.hasOwnProperty,n.has=function(e,t){return i.call(e,t)},n.keys=Object.keys||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t,i=[];for(t in e)n.has(e,t)&&i.push(t);return i},a=0,n.uniqueId=function(e){var t=++a+"";return e?e+t:t},ge.each(["Arguments","Function","String","Number","Date","RegExp"],function(){var t=this;n["is"+t]=function(e){return Object.prototype.toString.call(e)=="[object "+t+"]"}}),n.debounce=function(i,n,a){var o,s,r,l,d;return function(){r=this,s=arguments,l=new Date;var t=function(){var e=new Date-l;e<n?o=setTimeout(t,n-e):(o=null,a||(d=i.apply(r,s)))},e=a&&!o;return o=o||setTimeout(t,n),d=e?i.apply(r,s):d}},n),me="undefined"!=typeof MutationObserver,ve=function(){for(var e=3,t=document.createElement("b"),i=t.all||[];t.innerHTML="\x3c!--[if gt IE "+(e=1+e)+"]><i><![endif]--\x3e",i[0];);return 4<e?e:document.documentMode}(),o=/Gecko\//.test(navigator.userAgent),ye=/WebKit\//.test(navigator.userAgent),s=(ve||o||ye||(ve=11),function(){var e,t;return!!ye&&(e=ge("<div>").css("width",0).append(ge("<table>").css("max-width","100%").append(ge("<tr>").append(ge("<th>").append(ge("<div>").css("min-width",100).text("X"))))),ge("body").append(e),t=0==e.find("table").width(),e.remove(),t)}),be=!o&&!ve,we=ge(window);function Se(e){var t=e[0].parentElement;do{}while("visible"==window.getComputedStyle(t).getPropertyValue("overflow")&&(t=t.parentElement));return t==document.body?ge([]):ge(t)}function ke(e){window&&window.console&&window.console.error&&window.console.error("jQuery.floatThead: "+e)}function De(e,t,i){var n=i?"outerWidth":"width";if(s&&e.css("max-width")){var a=0;i&&(a=(a+=parseInt(e.css("borderLeft"),10))+parseInt(e.css("borderRight"),10));for(var o=0;o<t.length;o++)a+=t.get(o).offsetWidth;return a}return e[n]()}window.matchMedia||(e=window.onbeforeprint,t=window.onafterprint,window.onbeforeprint=function(){e&&e(),we.triggerHandler("beforeprint")},window.onafterprint=function(){t&&t(),we.triggerHandler("afterprint")}),ge.fn.floatThead=function(e){if(e=e||{},!(ve<8)){var i,n,a,he=null;if(fe.isFunction(s)&&(s=s()),fe.isString(e))return i=e,n=Array.prototype.slice.call(arguments,1),(a=this).filter("table").each(function(){var e=ge(this),t=e.data("floatThead-lazy"),t=(t&&e.floatThead(t),e.data("floatThead-attached"));t&&fe.isFunction(t[i])&&(void 0!==(e=t[i].apply(this,n))&&(a=e))}),a;var t,pe=ge.extend({},ge.floatThead.defaults||{},e);ge.each(e,function(e,t){e in ge.floatThead.defaults||!pe.debug||ke("Used ["+e+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+fe.keys(ge.floatThead.defaults).join(", "))}),pe.debug&&(t=ge.fn.jquery.split("."),1==parseInt(t[0],10)&&parseInt(t[1],10)<=7&&ke("jQuery version "+ge.fn.jquery+" detected! This plugin supports 1.8 or better, or 1.7.x with jQuery UI 1.8.24 -> http://jqueryui.com/resources/download/jquery-ui-1.8.24.zip")),this.filter(":not(."+pe.floatTableClass+")").each(function(){var J=fe.uniqueId(),v=ge(this);if(v.data("floatThead-attached"))return!0;if(!v.is("table"))throw new Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();');me=pe.autoReflow&&me;var t,y,N,b,a,z,w,S,k,D,C,i,T,M,n,O,U,E,c,L,u,h,r,$,x,o,p,V,g,q,f,R,m,H,Q,W,K,e,s,Y,l,B,G,Z,X,d,ee,te,A,_=v.children("thead:first"),ie=v.children("tbody:first");function F(e){return e+".fth-"+J+".floatTHead"}function ne(){var e,t=0;_.children("tr:visible").each(function(){t+=ge(this).outerHeight(!0)}),"collapse"==v.css("border-collapse")&&(e=parseInt(v.css("border-top-width"),10),parseInt(v.find("thead tr:first").find(">*:first").css("border-top-width"),10)<e&&(t-=e/2)),p.outerHeight(t),V.outerHeight(t)}function ae(){y=(fe.isFunction(pe.top)?pe.top(v):pe.top)||0,N=(fe.isFunction(pe.bottom)?pe.bottom(v):pe.bottom)||0}function P(){var e;t||(t=!0,C&&(e=De(v,f,!0),U.width()<e&&v.css("minWidth",e)),v.css(R),c.css(R),c.append(_),ie.before(o),ne())}function I(){t&&(t=!1,C&&v.width(H),o.detach(),v.prepend(_),v.css(m),c.css(m),v.css("minWidth",Q),v.css("minWidth",De(v,f)))}function j(e){W!=e&&(W=e,v.triggerHandler("floatThead",[e,$]))}function oe(e){C!=e&&(C=e,$.css({position:C?"absolute":"fixed"}))}function se(){var l,d=function(){var e,t=_.find(pe.headerCellSelector);if(h?e=u.find("col").length:(e=0,t.each(function(){e+=parseInt(ge(this).attr("colspan")||1,10)})),e!=z){z=e;for(var i,n=[],a=[],o=[],s=0;s<e;s++)i=t.eq(s).text(),n.push('<th class="floatThead-col" aria-label="'+i+'"/>'),a.push("<col/>"),o.push(ge("<fthtd>").css({display:"table-cell",height:0,width:"auto"}));a=a.join(""),n=n.join(""),be&&(r.empty(),r.append(o),f=r.find("fthtd")),p.html(n),V=p.find("th"),h||u.html(a),g=u.find("col"),L.html(a),q=L.find("col")}return e}();return function(){var e,t,i,n,a,o=$.scrollLeft(),s=(g=u.find("col"),e=v,t=g,i=f,n=ve,be?i:n?pe.getSizingRow(e,t,i):t);if(s.length==d&&0<d){if(!h)for(l=0;l<d;l++)g.eq(l).css("width","");I();var r=[];for(l=0;l<d;l++)r[l]=(a=(a=s.get(l)).getBoundingClientRect()).width||a.right-a.left;for(l=0;l<d;l++)q.eq(l).width(r[l]),g.eq(l).width(r[l]);P()}else c.append(_),v.css(m),c.css(m),ne();$.scrollLeft(o),v.triggerHandler("reflowed",[$])}}function re(e){var e=w.css("border-"+e+"-width"),t=0;return t=e&&~e.indexOf("px")?parseInt(e,10):t}function le(){return"auto"==k.css("overflow-x")}function de(){function a(){return(le()?k:w).scrollLeft()||0}var o,e,s=w.scrollTop(),r=0,l=T?i.outerHeight(!0):0,d=M?l:-l,c=$.height(),u=v.offset(),h=0,p=0,g=(S?(e=w.offset(),r=u.top-e.top+s,T&&M&&(r+=l),h=re("left"),p=re("top"),r-=p):o=u.top-y-c+N+b.horizontal,we.scrollTop()),f=we.scrollLeft(),m=a();return function(e){D=le();var t=v[0].offsetWidth<=0&&v[0].offsetHeight<=0;if(!t&&x)return x=!1,setTimeout(function(){v.triggerHandler("reflow")},1),null;if(t&&(x=!0,!C))return null;if("windowScroll"==e)g=we.scrollTop(),f=we.scrollLeft();else if("containerScroll"==e)if(k.length){if(!D)return;m=k.scrollLeft()}else s=w.scrollTop(),m=w.scrollLeft();else"init"!=e&&(g=we.scrollTop(),f=we.scrollLeft(),s=w.scrollTop(),m=a());if(!ye||!(g<0||f<0)){if(E)oe("windowScrollDone"==e);else if("windowScrollDone"==e)return null;u=v.offset(),T&&M&&(u.top+=l);var i,n,t=v.outerHeight();return S&&C?(s<=r?(n=0<(e=r-s+p)?e:0,j(!1)):(n=O?p:s,j(!0)),i=h):!S&&C?(o+t+d<g?n=t-c+d:u.top>=g+y?(n=0,I(),j(!1)):(n=y+g-u.top+r+(M?l:0),P(),j(!0)),i=m):S&&!C?(s<r||t<s-r?(n=u.top-g,I(),j(!1)):(n=u.top+s-g-r,P(),j(!0)),i=u.left+m-f):S||C||(o+t+d<g?n=t+y-g+o+d:u.top>g+y?(n=u.top-g,P(),j(!1)):(n=y,j(!0)),i=u.left+m-f),{top:Math.round(n),left:Math.round(i)}}}}function ce(){var a=null,o=null,s=null;return function(e,t,i){null==e||a==e.top&&o==e.left||(8===ve?$.css({top:e.top,left:e.left}):(n="translateX("+e.left+"px) translateY("+e.top+"px)",$.css({"-webkit-transform":n,"-moz-transform":n,"-ms-transform":n,"-o-transform":n,transform:n,top:0,left:0})),a=e.top,o=e.left),t&&(n=De(v,f,!0),t=(e=D?k:w).width()||n,e="hidden"!=e.css("overflow-y")?t-b.vertical:t,$.width(e),S?c.css("width",100*n/e+"%"):c.outerWidth(n)),i&&ne();var n,t=(D?k:w).scrollLeft();C&&s==t||($.scrollLeft(t),s=t)}}function ue(){var e,t,i,n;w.length&&(pe.support&&pe.support.perfectScrollbar&&w.data().perfectScrollbar?b={horizontal:0,vertical:0}:("scroll"==w.css("overflow-x")?b.horizontal=a:(e=w.width(),t=De(v,f),b.horizontal=e-(i<n?a:0)<t?a:0),"scroll"==w.css("overflow-y")?b.vertical=a:(i=w.height(),n=v.height(),b.vertical=i-(e<t?a:0)<n?a:0)))}0==_.length||0==ie.length?(pe.debug&&(0==_.length?ke("The thead element is missing."):ke("The tbody element is missing.")),v.data("floatThead-lazy",pe),v.unbind("reflow").one("reflow",function(){v.floatThead(pe)})):(v.data("floatThead-lazy")&&v.unbind("reflow"),v.data("floatThead-lazy",!1),t=!0,b={vertical:0,horizontal:0},(A=document.createElement("scrolltester")).style.cssText="width:100px;height:100px;overflow:scroll!important;position:absolute;top:-9999px;display:block",document.body.appendChild(A),d=A.offsetWidth-A.clientWidth,document.body.removeChild(A),a=d,!(z=0)===pe.scrollContainer&&(pe.scrollContainer=Se),w=pe.scrollContainer(v)||ge([]),S=0<w.length,k=!S&&pe.responsiveContainer(v)||ge([]),D=le(),C=null,"auto"==pe.position?C=null:"fixed"==pe.position?C=!1:"absolute"==pe.position?C=!0:pe.debug&&ke('Invalid value given to "position" option, valid is "fixed", "absolute" and "auto". You passed: ',pe.position),null==C&&(C=S),i=v.find("caption"),T=1==i.length,T&&(M="top"===(i.css("caption-side")||i.attr("align")||"top")),n=ge("<fthfoot>").css({display:"table-footer-group","border-spacing":0,height:0,"border-collapse":"collapse",visibility:"hidden"}),O=!1,U=ge([]),E=ve<=9&&!S&&C,c=ge("<table/>"),L=ge("<colgroup/>"),u=v.children("colgroup:first"),h=!0,0==u.length&&(u=ge("<colgroup/>"),h=!1),r=ge("<fthtr>").css({display:"table-row","border-spacing":0,height:0,"border-collapse":"collapse"}),$=ge("<div>").css("overflow","hidden").attr("aria-hidden","true"),x=!1,o=ge("<thead/>"),p=ge('<tr class="size-row" aria-hidden="true"/>'),V=ge([]),g=ge([]),q=ge([]),f=ge([]),o.append(p),v.prepend(u),be&&(n.append(r),v.append(n)),c.append(L),$.append(c),pe.copyTableClass&&c.attr("class",v.attr("class")),c.attr({cellpadding:v.attr("cellpadding"),cellspacing:v.attr("cellspacing"),border:v.attr("border")}),A=v.css("display"),c.css({borderCollapse:v.css("borderCollapse"),border:v.css("border"),display:A}),S||c.css("width","auto"),"none"==A&&(x=!0),c.addClass(pe.floatTableClass).css({margin:0,"border-bottom-width":0}),C?(d=function(e,t){var i=e.css("position"),n=e;return("relative"==i||"absolute"==i)&&!t||(i={paddingLeft:e.css("paddingLeft"),paddingRight:e.css("paddingRight")},$.css(i),n=e.data("floatThead-containerWrap")||e.wrap(ge("<div>").addClass(pe.floatWrapperClass).css({position:"relative",clear:"both"})).parent(),e.data("floatThead-containerWrap",n),O=!0),n},S?(U=d(w,!0)).prepend($):(U=d(v),v.before($))):v.before($),$.css({position:C?"absolute":"fixed",marginTop:0,top:C?0:"auto",zIndex:pe.zIndex,willChange:"transform"}),$.addClass(pe.floatContainerClass),ae(),R={"table-layout":"fixed"},m={"table-layout":v.css("tableLayout")||"auto"},H=v[0].style.width||"",Q=v.css("minWidth")||"",W=!1,ue(),(K=function(){se()()})(),e=de(),s=ce(),s(e("init"),!0),Y=fe.debounce(function(){s(e("windowScrollDone"),!1)},1),A=function(){s(e("windowScroll"),!1),E&&Y()},d=function(){s(e("containerScroll"),!1)},l=fe.debounce(function(){v.is(":hidden")||(ue(),ae(),K(),e=de(),s(e("reflow"),!0))},1),B=function(){I()},G=function(){P()},Z=function(e){(e.matches?B:G)()},window.matchMedia&&window.matchMedia("print").addListener?(X=window.matchMedia("print")).addListener(Z):(we.on("beforeprint",B),we.on("afterprint",G)),S?C?w.on(F("scroll"),d):(w.on(F("scroll"),d),we.on(F("scroll"),A)):(k.on(F("scroll"),d),we.on(F("scroll"),A)),we.on(F("load"),l),d=F("resize"),ee=function(){v.is(":hidden")||(ae(),ue(),K(),e=de(),(s=ce())(e("resize"),!0,!0))},8==ve?(te=we.width(),A=fe.debounce(function(){var e=we.width();te!=e&&(te=e,ee())},1),we.on(d,A)):we.on(d,fe.debounce(ee,1)),v.on("reflow",l),pe.support&&pe.support.datatables&&function(e){if(e.dataTableSettings)for(var t=0;t<e.dataTableSettings.length;t++){var i=e.dataTableSettings[t].nTable;if(e[0]==i)return 1}}(v)&&v.on("filter",l).on("sort",l).on("page",l),pe.support&&pe.support.bootstrap&&we.on(F("shown.bs.tab"),l),pe.support&&pe.support.jqueryUI&&we.on(F("tabsactivate"),l),me&&(A=null,A=(A=fe.isFunction(pe.autoReflow)?pe.autoReflow(v,w):A)||(w.length?w:v)[0],(he=new MutationObserver(function(e){function t(e){return e&&e[0]&&("THEAD"==e[0].nodeName||"TD"==e[0].nodeName||"TH"==e[0].nodeName)}for(var i=0;i<e.length;i++)if(!t(e[i].addedNodes)&&!t(e[i].removedNodes)){l();break}})).observe(A,{childList:!0,subtree:!0})),v.data("floatThead-attached",{destroy:function(){var e=".fth-"+J;return I(),v.css(m),u.remove(),be&&n.remove(),o.parent().length&&o.replaceWith(_),j(!1),me&&(he.disconnect(),he=null),v.off("reflow reflowed"),w.off(e),k.off(e),O&&(w.length?w:v).unwrap(),(S?w:v).data("floatThead-containerWrap",!1),v.css("minWidth",Q),$.remove(),v.data("floatThead-attached",!1),we.off(e),X&&X.removeListener(Z),B=G=function(){},function(){return v.floatThead(pe)}},reflow:function(){l()},setHeaderHeight:function(){ne()},getFloatContainer:function(){return $},getRowGroups:function(){return t?$.find(">table>thead").add(v.children("tbody,tfoot")):v.children("thead,tbody,tfoot")}}))})}return this}}(function(){var e=window.jQuery;return e="undefined"!=typeof module&&module.exports&&!e?require("jquery"):e}()),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof module&&module.exports?require("jquery"):e.jQuery)}(this,function(a){"use strict";function t(e){var t=this,i=e.closest(".fl-scrolls-body");t.cont=e[0],i.length&&(t.scrollBody=i),t.sbar=t.initScroll(),t.visible=!0,t.updateAPI(),t.syncSbar(t.cont),t.addEventHandlers()}a.extend(t.prototype,{initScroll:function(){var e=a("<div class='fl-scrolls'></div>");return a("<div></div>").appendTo(e).css({width:this.cont.scrollWidth+"px"}),e.appendTo(this.cont)},addEventHandlers:function(){for(var t=this,e=t.eventHandlers=[{$el:t.scrollBody||a(window),handlers:{scroll:function(){t.checkVisibility()},resize:function(){t.updateAPI()}}},{$el:t.sbar,handlers:{scroll:function(){t.visible&&t.syncCont(this,!0)}}},{$el:a(t.cont),handlers:{scroll:function(){t.syncSbar(this,!0)},focusin:function(){setTimeout(function(){t.syncSbar(t.cont)},0)},"update.fscroll adjustScroll":function(e){"fscroll"!==e.namespace&&"adjustScroll"!==e.type||t.updateAPI()},"destroy.fscroll":function(e){"fscroll"===e.namespace&&t.destroyAPI()}}}],i=0,n=e.length;i<n;i++)e[i].$el.bind(e[i].handlers)},checkVisibility:function(){var e,t,i=this,n=i.sbar[0].scrollWidth<=i.sbar[0].offsetWidth;n||(e=i.cont.getBoundingClientRect(),t=i.scrollBody?i.scrollBody[0].getBoundingClientRect().bottom:window.innerHeight||document.documentElement.clientHeight,n=e.bottom<=t||e.top>t),i.visible===n&&(i.visible=!n,i.sbar.toggleClass("fl-scrolls-hidden"))},syncCont:function(e,t){return!0===this.preventSyncCont?void(this.preventSyncCont=!1):(this.preventSyncSbar=!!t,void(this.cont.scrollLeft=e.scrollLeft))},syncSbar:function(e,t){return!0===this.preventSyncSbar?void(this.preventSyncSbar=!1):(this.preventSyncCont=!!t,void(this.sbar[0].scrollLeft=e.scrollLeft))},updateAPI:function(){var e=this,t=e.cont,i=t.getBoundingClientRect();e.sbar.width(a(t).outerWidth()),e.scrollBody||e.sbar.css("left",i.left+"px"),a("div",e.sbar).width(t.scrollWidth),e.checkVisibility()},destroyAPI:function(){for(var e=this.eventHandlers,t=0,i=e.length;t<i;t++)e[t].$el.unbind(e[t].handlers);this.sbar.remove()}}),a.fn.attachScroll=a.fn.floatingScroll=function(e){return arguments.length&&"init"!==e?t.prototype.hasOwnProperty(e+"API")&&this.trigger(e+".fscroll"):this.each(function(){new t(a(this))}),this}}),angular.module("ngFloatingScroll",[]).directive("ngFloatingScroll",function(){return{restrict:"A",link:function(e,i,t){$(i).floatingScroll("init"),e.element=i[0],e.$watch("element.clientHeight",function(e,t){e!==t&&$(i).floatingScroll("update")})}}}),function(g){"use strict";function r(e){e=e.slice(9);return null!=e&&0<e.length?e.substring(0,1).toLowerCase()+e.substring(1):e}var f=window.angulartics||(window.angulartics={});f.waitForVendorCount=0,f.waitForVendorApi=function(e,t,i,n,a){a||f.waitForVendorCount++,n||(n=i,i=void 0),!Object.prototype.hasOwnProperty.call(window,e)||void 0!==i&&void 0===window[e][i]?setTimeout(function(){f.waitForVendorApi(e,t,i,n,!0)},t):(f.waitForVendorCount--,n(window[e]))},g.module("angulartics",[]).provider("$analytics",function(){function o(e,t,i){return l[e]||(l[e]=[]),l[e].push(t),d[t]=i,function(){var a;if(!this.settings.optOut)return a=Array.prototype.slice.apply(arguments),this.$inject(["$q",g.bind(this,function(n){return n.all(l[e].map(function(e){var t,i;return(d[e]||{}).async?(t=n.defer(),(i=g.copy(a)).unshift(t.resolve),e.apply(this,i),t.promise):n.when(e.apply(this,a))},this))})])}}function n(e,n,t){var a;i.developerMode||(c[e]=o(e,n,t),t=(t=i[e])?t.bufferFlushDelay:null,a=null!==t?t:i.bufferFlushDelay,g.forEach(r[e],function(e,t){var i;i=function(){n.apply(this,e)},(t=t*a)?setTimeout(i,t):i()}))}function e(i){var e,t="register"+i.replace(/^./,function(e){return e.toUpperCase()});u[t]=function(e,t){n(i,e,t)},c[i]=o(i,(e=i,function(){f.waitForVendorCount&&(r[e]||(r[e]=[]),r[e].push(arguments))}))}function t(e,t,i){for(var n in g.forEach(t,i),e)a[n]=e[n]}var a=this,i={pageTracking:{autoTrackFirstPage:!0,autoTrackVirtualPages:!0,trackRelativePath:!1,trackRoutes:!0,trackStates:!0,autoBasePath:!1,basePath:"",excludedRoutes:[],queryKeysWhitelisted:[],queryKeysBlacklisted:[]},eventTracking:{},bufferFlushDelay:1e3,trackExceptions:!1,optOut:!1,developerMode:!1},s=["pageTrack","eventTrack","exceptionTrack","transactionTrack","setAlias","setUsername","setUserProperties","setUserPropertiesOnce","setSuperProperties","setSuperPropertiesOnce","incrementProperty","userTimings","clearCookies"],r={},l={},d={},c={settings:i,setOptOut:function(e){this.settings.optOut=e,p()},getOptOut:function(){return this.settings.optOut}},u={$get:["$injector",function(e){return h(e)}],api:c,settings:i,virtualPageviews:function(e){this.settings.pageTracking.autoTrackVirtualPages=e},trackStates:function(e){this.settings.pageTracking.trackStates=e},trackRoutes:function(e){this.settings.pageTracking.trackRoutes=e},excludeRoutes:function(e){this.settings.pageTracking.excludedRoutes=e},queryKeysWhitelist:function(e){this.settings.pageTracking.queryKeysWhitelisted=e},queryKeysBlacklist:function(e){this.settings.pageTracking.queryKeysBlacklisted=e},firstPageview:function(e){this.settings.pageTracking.autoTrackFirstPage=e},withBase:function(e){this.settings.pageTracking.basePath=e?g.element(document).find("base").attr("href"):""},withAutoBase:function(e){this.settings.pageTracking.autoBasePath=e},trackExceptions:function(e){this.settings.trackExceptions=e},developerMode:function(e){this.settings.developerMode=e}},h=function(e){return g.extend(c,{$inject:e.invoke})},p=function(){t(u,s,e)};t(u,s,e)}).run(["$rootScope","$window","$analytics","$injector",function(a,o,s,r){function i(e,t,i){if(/\?/.test(e)&&0<t.length){for(var n=e.split("?"),a=n[0],o=n[1].split("&"),s=[],r=0;r<t.length;r++)for(var l=t[r],d=0;d<o.length;d++)(l instanceof RegExp&&l.test(o[d])||-1<o[d].indexOf(l))&&s.push(o[d]);n="white"==i?s:function(e,t){for(var i=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&i.push(e[n]);return i}(o,s);return 0<n.length?a+"?"+n.join("&"):a}return e}function l(e,t){!function(e){for(var t=0;t<s.settings.pageTracking.excludedRoutes.length;t++){var i=s.settings.pageTracking.excludedRoutes[t];if(i instanceof RegExp&&i.test(e)||-1<e.indexOf(i))return 1}}(e)&&(e=i(e,s.settings.pageTracking.queryKeysWhitelisted,"white"),e=i(e,s.settings.pageTracking.queryKeysBlacklisted,"black"),s.pageTrack(e,t))}s.settings.pageTracking.autoTrackFirstPage&&r.invoke(["$location",function(e){var t,i=!0;if(r.has("$route")){var n=r.get("$route");if(n)for(var a in n.routes){i=!1;break}else null===n&&(i=!1)}else if(r.has("$state"))for(t in r.get("$state").get()){i=!1;break}i&&(s.settings.pageTracking.autoBasePath&&(s.settings.pageTracking.basePath=o.location.pathname),s.settings.pageTracking.trackRelativePath?l(s.settings.pageTracking.basePath+e.url(),e):l(e.absUrl(),e))}]),s.settings.pageTracking.autoTrackVirtualPages&&r.invoke(["$location",function(i){s.settings.pageTracking.autoBasePath&&(s.settings.pageTracking.basePath=o.location.pathname+"#");var e=!0;if(s.settings.pageTracking.trackRoutes&&r.has("$route")){var t=r.get("$route");if(t)for(var n in t.routes){e=!1;break}else null===t&&(e=!1);a.$on("$routeChangeSuccess",function(e,t){t&&(t.$$route||t).redirectTo||l(s.settings.pageTracking.basePath+i.url(),i)})}s.settings.pageTracking.trackStates&&(r.has("$state")&&!r.has("$transitions")&&(e=!1,a.$on("$stateChangeSuccess",function(e,t){l(s.settings.pageTracking.basePath+i.url(),i)})),r.has("$state")&&r.has("$transitions")&&(e=!1,r.invoke(["$transitions",function(e){e.onSuccess({},function(e){e.options().notify&&l(s.settings.pageTracking.basePath+i.url(),i)})}]))),e&&a.$on("$locationChangeSuccess",function(e,t){t&&(t.$$route||t).redirectTo||(s.settings.pageTracking.trackRelativePath?l(s.settings.pageTracking.basePath+i.url(),i):l(i.absUrl(),i))})}]),s.settings.developerMode&&g.forEach(s,function(e,t){"function"==typeof e&&(s[t]=function(){})})}]).directive("analyticsOn",["$analytics",function(s){return{restrict:"A",link:function(i,n,a){var e=a.analyticsOn||"click",o={};g.forEach(a.$attr,function(e,t){var i;"analytics"===(i=t).substr(0,9)&&-1===["On","Event","If","Properties","EventType"].indexOf(i.substr(9))&&(o[r(t)]=a[t],a.$observe(t,function(e){o[r(t)]=e}))}),g.element(n[0]).bind(e,function(e){var t=a.analyticsEvent||(function(e){return 0<=["a:","button:","button:button","button:submit","input:button","input:submit"].indexOf(e.tagName.toLowerCase()+":"+(e.type||""))}(t=n[0])?t.innerText||t.value:t.id||t.name||t.tagName);o.eventType=e.type,a.analyticsIf&&!i.$eval(a.analyticsIf)||(a.analyticsProperties&&g.extend(o,i.$eval(a.analyticsProperties)),s.eventTrack(t,o))})}}}]).config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate","$injector",function(a,o){return function(e,t){var i=a(e,t),n=o.get("$analytics");return n.settings.trackExceptions&&n.exceptionTrack(e,t),i}}])}])}(angular),function(t,d){"use strict";d.module("angulartics.google.analytics",["angulartics"]).config(["$analyticsProvider","$windowProvider",function(o,e){function n(e){return e.page||i||s.location.hash.substring(1)||t.location.pathname}var i,a,s=e.$get(),r=(o.settings.pageTracking.trackRelativePath=!0,o.settings.ga={additionalAccountNames:void 0,additionalAccountHitTypes:{pageview:!0,event:!0,exception:!1,ecommerce:!1,userTiming:!1,setUserProperties:!1,userId:!1},disableEventTracking:null,disablePageTracking:null,enhancedEcommerce:!1,transport:null,userId:null},o.registerPageTrack(function(e,t){i=e,t=t||{},o.settings.ga.disablePageTracking||r("pageview","send",d.extend(d.copy(t),{hitType:"pageview",page:e}))}),o.registerEventTrack(function(e,t){var i;o.settings.ga.disableEventTracking||!e&&e+""!="0"||((t=t||{}).category=t.category||"Event",t.value&&(i=parseInt(t.value,10),t.value=isNaN(i)?0:i),d.isFunction(t.hitCallback)||(t.hitCallback=null),t.nonInteraction=t.nonInteraction||t.noninteraction,r("event","send",d.extend(d.copy(t),{hitType:"event",eventCategory:t.category,eventAction:e,eventLabel:t.label,eventValue:t.value,nonInteraction:t.nonInteraction,page:n(t),hitCallback:t.hitCallback})))}),o.registerExceptionTrack(function(e,t){r("exception","send",{hitType:"event",eventCategory:"Exceptions",eventAction:e.toString(),eventLabel:e.stack,nonInteraction:!0,page:n({}),isException:!0})}),o.registerSetUsername(function(e){o.settings.ga.userId=e}),o.registerSetUserProperties(function(e){e&&r("setUserProperties","set",function(e){var t,i={};for(t in e)t.indexOf("dimension")&&t.indexOf("metric")||(i[t]=e[t]);return i}(e))}),o.registerUserTimings(function(t){return!d.isObject(t)||d.isArray(t)?console.log("Required argument properties is missing or not an object"):(d.forEach(["timingCategory","timingVar","timingValue"],function(e){if(d.isUndefined(t[e]))return console.log("Argument properties missing required property "+e)}),void r("userTiming","send",{hitType:"timing",timingCategory:t.timingCategory,timingVar:t.timingVar,timingValue:t.timingValue,timingLabel:t.timingLabel,optSampleRate:t.optSampleRate,page:n(t)}))}),o.registerTransactionTrack(function(e){var t,i;if(r("ecommerce","require","ecommerce"),r("ecommerce","ecommerce:addTransaction",e),e.products)for(i=0;i<e.products.length;i++)(t=e.products[i]).sku=t.id,t.id=e.id,r("ecommerce","ecommerce:addItem",e.products[i]);e.currencyCode&&r("ecommerce","_set",e.currencyCode),r("ecommerce","ecommerce:send",d.copy(e))}),d.isUndefined(s._gaq)||(a=function(e,t,i){if("set"===e)return console.log('Classic Analytics does not support the "set" command or Custom Dimensions. Command ignored.');var n;if("send"===e)switch(t.hitType){case"pageview":n=["_trackPageview",t.page];break;case"event":n=["_trackEvent",t.eventCategory,t.eventAction,t.eventLabel,t.eventValue,t.nonInteraction];break;case"timing":n=["_trackTiming",t.timingCategory,t.timingVar,t.timingValue,t.timingLabel,t.optSampleRate]}return"ecommerce:addTransaction"===e&&(n=["_addTrans",t.id,t.affiliation,t.revenue,t.tax,t.shipping,t.billingCity,t.billingRegion,t.billingCountry]),"ecommerce:addItem"===e&&(n=["_addItem",t.id,t.sku,t.name,t.category,t.price,t.quantity]),"_set"===e&&(n=["_set","currencyCode",t]),(n="ecommerce:send"===e?["_trackTrans"]:n)?(s._gaq.push(n),void(i&&d.forEach(o.settings.ga.additionalAccountNames,function(e){var t=[].slice.call(n);t[0]=e+"."+t[0],s._gaq.push(t)}))):console.log("Unable to find command "+e+" or fieldsObj missing required properties. Command ignored.")}),e=s.GoogleAnalyticsObject,(a=e&&s[e]?function(e,t,i){var n=o.settings.ga.userId;if("require"===e&&"ecommerce"===t)return l([e,o.settings.ga.enhancedEcommerce?"ec":t],i);if(n&&d.isObject(t)&&(t.userId=n),o.settings.ga.transport&&(t.transport=o.settings.ga.transport),-1<e.indexOf("ecommerce:")&&o.settings.ga.enhancedEcommerce)switch(e){case"ecommerce:addTransaction":e=["ec:setAction","purchase"];break;case"ecommerce:addItem":e="ec:addProduct",t.id=t.sku;break;case"ecommerce:send":e="send",t.hitType="event",t.eventCategory="Angulartics Enhanced Ecommerce",t.eventAction="Purchase",t.nonInteraction=!0}l(e instanceof Array?e.concat(t):[e,t],i)}:a)?function(e,t,i){e=o.settings.ga.additionalAccountHitTypes[e];a(t,i,e)}:d.noop);function l(t,e){var i,n=o.settings.ga.userId,a=s.GoogleAnalyticsObject;s[a].apply(this,t),e&&(i=d.copy(t),n&&!o.settings.ga.additionalAccountHitTypes.userId&&i[2]&&"object"==typeof i[2]&&delete i[2].userId,d.forEach(o.settings.ga.additionalAccountNames,function(e){i[0]=e+"."+t[0],s[a].apply(this,i)}))}}])}(window,window.angular),function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){function e(e,t){this.items=e,this.settings=t||{diacritics:!0}}e.prototype.tokenize=function(e){if(!(e=r(String(e||"").toLowerCase()))||!e.length)return[];for(var t,i,n=[],a=e.split(/ +/),o=0,s=a.length;o<s;o++){if(t=l(a[o]),this.settings.diacritics)for(i in d)d.hasOwnProperty(i)&&(t=t.replace(new RegExp(i,"g"),d[i]));n.push({string:a[o],regex:new RegExp(t,"i")})}return n},e.prototype.iterator=function(e,t){var i=s(e)?Array.prototype.forEach||function(e){for(var t=0,i=this.length;t<i;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)};i.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){function a(e,t){var i;return!e||-1===(i=(e=String(e||"")).search(t.regex))?0:(t=t.string.length/e.length,0===i&&(t+=.5),t)}var o,s=(e=this.prepareSearch(e,t)).tokens,r=e.options.fields,l=s.length,d=(o=r.length)?1===o?function(e,t){return a(t[r[0]],e)}:function(e,t){for(var i=0,n=0;i<o;i++)n+=a(t[r[i]],e);return n/o}:function(){return 0};return l?1===l?function(e){return d(s[0],e)}:"and"===e.options.conjunction?function(e){for(var t,i=0,n=0;i<l;i++){if((t=d(s[i],e))<=0)return 0;n+=t}return n/l}:function(e){for(var t=0,i=0;t<l;t++)i+=d(s[t],e);return i/l}:function(){return 0}},e.prototype.getSortFunction=function(e,t){var i,n,a,o,s,r,l,d=this,c=!(e=d.prepareSearch(e,t)).query&&t.sort_empty||t.sort,u=function(e,t){return"$score"===e?t.score:d.items[t.id][e]},h=[];if(c)for(i=0,n=c.length;i<n;i++)!e.query&&"$score"===c[i].field||h.push(c[i]);if(e.query){for(l=!0,i=0,n=h.length;i<n;i++)if("$score"===h[i].field){l=!1;break}l&&h.unshift({field:"$score",direction:"desc"})}else for(i=0,n=h.length;i<n;i++)if("$score"===h[i].field){h.splice(i,1);break}for(r=[],i=0,n=h.length;i<n;i++)r.push("desc"===h[i].direction?-1:1);return(o=h.length)?1===o?(a=h[0].field,s=r[0],function(e,t){return s*p(u(a,e),u(a,t))}):function(e,t){for(var i,n=0;n<o;n++)if(i=h[n].field,i=r[n]*p(u(i,e),u(i,t)))return i;return 0}:null},e.prototype.prepareSearch=function(e,t){var i,n,a;return"object"==typeof e?e:(i=(t=o({},t)).fields,n=t.sort,a=t.sort_empty,i&&!s(i)&&(t.fields=[i]),n&&!s(n)&&(t.sort=[n]),a&&!s(a)&&(t.sort_empty=[a]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]})},e.prototype.search=function(e,i){var n,a,t=this,o=this.prepareSearch(e,i);return i=o.options,e=o.query,a=i.score||t.getScoreFunction(o),e.length?t.iterator(t.items,function(e,t){n=a(e),(!1===i.filter||0<n)&&o.items.push({score:n,id:t})}):t.iterator(t.items,function(e,t){o.items.push({score:1,id:t})}),(e=t.getSortFunction(o,i))&&o.items.sort(e),o.total=o.items.length,"number"==typeof i.limit&&(o.items=o.items.slice(0,i.limit)),o};var p=function(e,t){return"number"==typeof e&&"number"==typeof t?t<e?1:e<t?-1:0:(e=i(String(e||"")),(t=i(String(t||"")))<e?1:e<t?-1:0)},o=function(e,t){for(var i,n,a=1,o=arguments.length;a<o;a++)if(n=arguments[a])for(i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);return e},r=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},l=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||$&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},d={a:"[aÀÁÂÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌÍÎÏìíîïĪī]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[sŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},i=function(){var e,t,i,n,a="",o={};for(i in d)if(d.hasOwnProperty(i))for(a+=n=d[i].substring(2,d[i].length-1),e=0,t=n.length;e<t;e++)o[n.charAt(e)]=i;var s=new RegExp("["+a+"]","g");return function(e){return e.replace(s,function(e){return o[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={mixin:function(n){n.plugins={},n.prototype.initializePlugins=function(e){var t,i,n,a=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},o.isArray(e))for(t=0,i=e.length;t<i;t++)"string"==typeof e[t]?a.push(e[t]):(this.plugins.settings[e[t].name]=e[t].options,a.push(e[t].name));else if(e)for(n in e)e.hasOwnProperty(n)&&(this.plugins.settings[n]=e[n],a.push(n));for(;a.length;)this.require(a.shift())},n.prototype.loadPlugin=function(e){var t=this.plugins,i=n.plugins[e];if(!n.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');t.requested[e]=!0,t.loaded[e]=i.fn.apply(this,[this.plugins.settings[e]||{}]),t.names.push(e)},n.prototype.require=function(e){var t=this.plugins;if(!this.plugins.loaded.hasOwnProperty(e)){if(t.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');this.loadPlugin(e)}return t.loaded[e]},n.define=function(e,t){n.plugins[e]={name:e,fn:t}}}},o={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(D,c,e){"use strict";function n(){}function l(e){return void 0!==e}function C(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""}function r(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function d(e){return(e+"").replace(/\$/g,"$$$$")}function i(t,i,e){var n,a=t.trigger,o={};for(n in t.trigger=function(){var e=arguments[0];if(-1===i.indexOf(e))return a.apply(t,arguments);o[e]=arguments},e.apply(t,[]),t.trigger=a,o)o.hasOwnProperty(n)&&a.apply(t,o[n])}function u(e){var t,i,n={};return"selectionStart"in e?(n.start=e.selectionStart,n.length=e.selectionEnd-n.start):document.selection&&(e.focus(),t=document.selection.createRange(),i=document.selection.createRange().text.length,t.moveStart("character",-e.value.length),n.start=t.text.length-i,n.length=i),n}function g(o){function e(e,t){var i,n,a;t=t||{},(e=e||window.event||{}).metaKey||e.altKey||!t.force&&!1===o.data("grow")||(t=o.val(),e.type&&"keydown"===e.type.toLowerCase()&&(i=97<=(a=e.keyCode)&&a<=122||65<=a&&a<=90||48<=a&&a<=57||32===a,46===a||8===a?(n=u(o[0])).length?t=t.substring(0,n.start)+t.substring(n.start+n.length):8===a&&n.start?t=t.substring(0,n.start-1)+t.substring(n.start+1):46===a&&void 0!==n.start&&(t=t.substring(0,n.start)+t.substring(n.start+1)):i&&(a=e.shiftKey,n=String.fromCharCode(e.keyCode),t+=n=a?n.toUpperCase():n.toLowerCase())),i=o.attr("placeholder"),e=o,(n=((a=t=!t&&i?i:t)?(a=D("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(a).appendTo("body"),p(e,a,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),e=a.width(),a.remove(),e):0)+4)!==s&&(s=n,o.width(n),o.triggerHandler("resize")))}var s=null;o.on("keydown keyup update blur",e),e()}function h(e,t){var i,n,a,o,s,r=this,l=e[0],d=(l.selectize=r,window.getComputedStyle&&window.getComputedStyle(l,null));if(d=(d?d.getPropertyValue("direction"):l.currentStyle&&l.currentStyle.direction)||e.parents("[dir]:first").attr("dir")||"",D.extend(r,{order:0,settings:t,$input:e,tabIndex:e.attr("tabindex")||"",tagType:"select"===l.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(d),eventNS:".selectize"+ ++h.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:e.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===t.loadThrottle?r.onSearchChange:(a=r.onSearchChange,o=t.loadThrottle,function(){var e=this,t=arguments;window.clearTimeout(s),s=window.setTimeout(function(){a.apply(e,t)},o)})}),r.sifter=new c(this.options,{diacritics:t.diacritics}),r.settings.options){for(i=0,n=r.settings.options.length;i<n;i++)r.registerOption(r.settings.options[i]);delete r.settings.options}if(r.settings.optgroups){for(i=0,n=r.settings.optgroups.length;i<n;i++)r.registerOptionGroup(r.settings.optgroups[i]);delete r.settings.optgroups}r.settings.mode=r.settings.mode||(1===r.settings.maxItems?"single":"multi"),"boolean"!=typeof r.settings.hideSelected&&(r.settings.hideSelected="multi"===r.settings.mode),r.initializePlugins(r.settings.plugins),r.setupCallbacks(),r.setupTemplates(),r.setup()}n.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},n.mixin=function(e){for(var t=["on","off","trigger"],i=0;i<t.length;i++)e.prototype[t[i]]=n.prototype[t[i]]};var f=/Mac/.test(navigator.userAgent),m=f?91:17,v=f?18:17,y=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,t={before:function(e,t,i){var n=e[t];e[t]=function(){return i.apply(e,arguments),n.apply(e,arguments)}},after:function(t,e,i){var n=t[e];t[e]=function(){var e=n.apply(t,arguments);return i.apply(t,arguments),e}}},p=function(e,t,i){var n,a,o={};if(i)for(n=0,a=i.length;n<a;n++)o[i[n]]=e.css(i[n]);else o=e.css();t.css(o)};return n.mixin(h),e.mixin(h),D.extend(h.prototype,{setup:function(){var i,n,t=this,e=t.settings,a=t.eventNS,o=D(window),s=D(document),r=t.$input,l=t.settings.mode,d=r.attr("class")||"",c=D("<div>").addClass(e.wrapperClass).addClass(d).addClass(l),u=D("<div>").addClass(e.inputClass).addClass("items").appendTo(c),h=D('<input type="text" autocomplete="off" />').appendTo(u).attr("tabindex",r.is(":disabled")?"-1":t.tabIndex),p=D(e.dropdownParent||c),l=D("<div>").addClass(e.dropdownClass).addClass(l).hide().appendTo(p),p=D("<div>").addClass(e.dropdownContentClass).appendTo(l);t.settings.copyClassesToDropdown&&l.addClass(d),c.css({width:r[0].style.width}),t.plugins.names.length&&(d="plugin-"+t.plugins.names.join(" plugin-"),c.addClass(d),l.addClass(d)),(null===e.maxItems||1<e.maxItems)&&1===t.tagType&&r.attr("multiple","multiple"),t.settings.placeholder&&h.attr("placeholder",e.placeholder),!t.settings.splitOn&&t.settings.delimiter&&(d=t.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),t.settings.splitOn=new RegExp("\\s*"+d+"+\\s*")),r.attr("autocorrect")&&h.attr("autocorrect",r.attr("autocorrect")),r.attr("autocapitalize")&&h.attr("autocapitalize",r.attr("autocapitalize")),t.$wrapper=c,t.$control=u,t.$control_input=h,t.$dropdown=l,t.$dropdown_content=p,l.on("mouseenter","[data-selectable]",function(){return t.onOptionHover.apply(t,arguments)}),l.on("mousedown click","[data-selectable]",function(){return t.onOptionSelect.apply(t,arguments)}),d="mousedown",c="*:not(input)",n=function(){return t.onItemSelect.apply(t,arguments)},(i=u).on(d,c,function(e){for(var t=e.target;t&&t.parentNode!==i[0];)t=t.parentNode;return e.currentTarget=t,n.apply(this,[e])}),g(h),u.on({mousedown:function(){return t.onMouseDown.apply(t,arguments)},click:function(){return t.onClick.apply(t,arguments)}}),h.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return t.onKeyDown.apply(t,arguments)},keyup:function(){return t.onKeyUp.apply(t,arguments)},keypress:function(){return t.onKeyPress.apply(t,arguments)},resize:function(){t.positionDropdown.apply(t,[])},blur:function(){return t.onBlur.apply(t,arguments)},focus:function(){return t.ignoreBlur=!1,t.onFocus.apply(t,arguments)},paste:function(){return t.onPaste.apply(t,arguments)}}),s.on("keydown"+a,function(e){t.isCmdDown=e[f?"metaKey":"ctrlKey"],t.isCtrlDown=e[f?"altKey":"ctrlKey"],t.isShiftDown=e.shiftKey}),s.on("keyup"+a,function(e){e.keyCode===v&&(t.isCtrlDown=!1),16===e.keyCode&&(t.isShiftDown=!1),e.keyCode===m&&(t.isCmdDown=!1)}),s.on("mousedown"+a,function(e){if(t.isFocused){if(e.target===t.$dropdown[0]||e.target.parentNode===t.$dropdown[0])return!1;t.$control.has(e.target).length||e.target===t.$control[0]||t.blur(e.target)}}),o.on(["scroll"+a,"resize"+a].join(" "),function(){t.isOpen&&t.positionDropdown.apply(t,arguments)}),o.on("mousemove"+a,function(){t.ignoreHover=!1}),this.revertSettings={$children:r.children().detach(),tabindex:r.attr("tabindex")},r.attr("tabindex",-1).hide().after(t.$wrapper),D.isArray(e.items)&&(t.setValue(e.items),delete e.items),y&&r.on("invalid"+a,function(e){e.preventDefault(),t.isInvalid=!0,t.refreshState()}),t.updateOriginalInput(),t.refreshItems(),t.refreshState(),t.updatePlaceholder(),t.isSetup=!0,r.is(":disabled")&&t.disable(),t.on("change",this.onChange),r.data("selectize",t),r.addClass("selectized"),t.trigger("initialize"),!0===e.preload&&t.onSearchChange("")},setupTemplates:function(){var i=this.settings.labelField,n=this.settings.optgroupLabelField;this.settings.render=D.extend({},{optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[n])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[i])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[i])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}},this.settings.render)},setupCallbacks:function(){var e,t,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in i)i.hasOwnProperty(e)&&(t=this.settings[i[e]])&&this.on(e,t)},onClick:function(e){this.isFocused||(this.focus(),e.preventDefault())},onMouseDown:function(e){var t=this,i=e.isDefaultPrevented();D(e.target);if(t.isFocused){if(e.target!==t.$control_input[0])return"single"===t.settings.mode?t.isOpen?t.close():t.open():i||t.setActiveItem(null),!1}else i||window.setTimeout(function(){t.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;n.isFull()||n.isInputHidden||n.isLocked?e.preventDefault():n.settings.splitOn&&setTimeout(function(){for(var e=D.trim(n.$control_input.val()||"").split(n.settings.splitOn),t=0,i=e.length;t<i;t++)n.createItem(e[t])},0)},onKeyPress:function(e){var t;return this.isLocked?e&&e.preventDefault():(t=String.fromCharCode(e.keyCode||e.which),this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0)},onKeyDown:function(e){e.target,this.$control_input[0];var t,i=this;if(i.isLocked)9!==e.keyCode&&e.preventDefault();else{switch(e.keyCode){case 65:if(i.isCmdDown)return void i.selectAll();break;case 27:return void(i.isOpen&&(e.preventDefault(),e.stopPropagation(),i.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:return!i.isOpen&&i.hasOptions?i.open():i.$activeOption&&(i.ignoreHover=!0,(t=i.getAdjacentOption(i.$activeOption,1)).length&&i.setActiveOption(t,!0,!0)),void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:return i.$activeOption&&(i.ignoreHover=!0,(t=i.getAdjacentOption(i.$activeOption,-1)).length&&i.setActiveOption(t,!0,!0)),void e.preventDefault();case 13:return void(i.isOpen&&i.$activeOption&&(i.onOptionSelect({currentTarget:i.$activeOption}),e.preventDefault()));case 37:return void i.advanceSelection(-1,e);case 39:return void i.advanceSelection(1,e);case 9:return i.settings.selectOnTab&&i.isOpen&&i.$activeOption&&(i.onOptionSelect({currentTarget:i.$activeOption}),i.isFull()||e.preventDefault()),void(i.settings.create&&i.createItem()&&e.preventDefault());case 8:case 46:return void i.deleteSelection(e)}!i.isFull()&&!i.isInputHidden||(f?e.metaKey:e.ctrlKey)||e.preventDefault()}},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();e=t.$control_input.val()||"";t.lastValue!==e&&(t.lastValue=e,t.onSearchChange(e),t.refreshOptions(),t.trigger("type",e))},onSearchChange:function(t){var i=this,n=i.settings.load;n&&!i.loadedSearches.hasOwnProperty(t)&&(i.loadedSearches[t]=!0,i.load(function(e){n.apply(i,[t,e])}))},onFocus:function(e){var t=this,i=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),i||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},onBlur:function(e,t){var i,n=this;n.isFocused&&(n.isFocused=!1,n.ignoreFocus||(n.ignoreBlur||document.activeElement!==n.$dropdown_content[0]?(i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(t||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")},n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()):(n.ignoreBlur=!0,n.onFocus(e))))},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(e){var t,i=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(t=D(e.currentTarget)).hasClass("create")?i.createItem(null,function(){i.settings.closeAfterSelect&&i.close()}):void 0!==(t=t.attr("data-value"))&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(t),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&i.setActiveOption(i.getOption(t)))},onItemSelect:function(e){this.isLocked||"multi"===this.settings.mode&&(e.preventDefault(),this.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,i=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||i.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){i(this,t?[]:["change"],function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(e,t){var i,n,a,o,s,r,l=this;if("single"!==l.settings.mode)if((e=D(e)).length){if("mousedown"===(i=t&&t.type.toLowerCase())&&l.isShiftDown&&l.$activeItems.length){for(r=l.$control.children(".active:last"),r=Array.prototype.indexOf.apply(l.$control[0].childNodes,[r[0]]),(a=Array.prototype.indexOf.apply(l.$control[0].childNodes,[e[0]]))<r&&(s=r,r=a,a=s),n=r;n<=a;n++)o=l.$control[0].childNodes[n],-1===l.$activeItems.indexOf(o)&&(D(o).addClass("active"),l.$activeItems.push(o));t.preventDefault()}else"mousedown"===i&&l.isCtrlDown||"keydown"===i&&this.isShiftDown?e.hasClass("active")?(s=l.$activeItems.indexOf(e[0]),l.$activeItems.splice(s,1),e.removeClass("active")):l.$activeItems.push(e.addClass("active")[0]):(D(l.$activeItems).removeClass("active"),l.$activeItems=[e.addClass("active")[0]]);l.hideInput(),this.isFocused||l.focus()}else D(l.$activeItems).removeClass("active"),l.$activeItems=[],l.isFocused&&l.showInput()},setActiveOption:function(e,t,i){var n,a,o,s,r=this;r.$activeOption&&r.$activeOption.removeClass("active"),r.$activeOption=null,(e=D(e)).length&&(r.$activeOption=e.addClass("active"),!t&&l(t)||(e=r.$dropdown_content.height(),n=r.$activeOption.outerHeight(!0),t=r.$dropdown_content.scrollTop()||0,s=(o=a=r.$activeOption.offset().top-r.$dropdown_content.offset().top+t)-e+n,e+t<a+n?r.$dropdown_content.stop().animate({scrollTop:s},i?r.settings.scrollDuration:0):a<t&&r.$dropdown_content.stop().animate({scrollTop:o},i?r.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return{fields:e.searchField,conjunction:e.searchConjunction,sort:t="string"==typeof t?[{field:t}]:t}},search:function(e){var t,i,n,a=this,o=a.settings,s=this.getSearchOptions();if(o.score&&"function"!=typeof(n=a.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==a.lastQuery?(a.lastQuery=e,i=a.sifter.search(e,D.extend(s,{score:n})),a.currentResults=i):i=D.extend(!0,{},a.currentResults),o.hideSelected)for(t=i.items.length-1;0<=t;t--)-1!==a.items.indexOf(C(i.items[t].id))&&i.items.splice(t,1);return i},refreshOptions:function(e){void 0===e&&(e=!0);var t,i,n,a,o,s,r,l,d,c,u,h,p,g,f=this,m=D.trim(f.$control_input.val()),v=f.search(m),y=f.$dropdown_content,b=f.$activeOption&&C(f.$activeOption.attr("data-value")),w=v.items.length;for("number"==typeof f.settings.maxOptions&&(w=Math.min(w,f.settings.maxOptions)),a={},o=[],t=0;t<w;t++)for(s=f.options[v.items[t].id],r=f.render("option",s),l=s[f.settings.optgroupField]||"",i=0,n=(d=D.isArray(l)?l:[l])&&d.length;i<n;i++)l=d[i],f.optgroups.hasOwnProperty(l)||(l=""),a.hasOwnProperty(l)||(a[l]=[],o.push(l)),a[l].push(r);for(this.settings.lockOptgroupOrder&&o.sort(function(e,t){return(f.optgroups[e].$order||0)-(f.optgroups[t].$order||0)}),c=[],t=0,w=o.length;t<w;t++)f.optgroups.hasOwnProperty(l=o[t])&&a[l].length?(u=f.render("optgroup_header",f.optgroups[l])||"",u+=a[l].join(""),c.push(f.render("optgroup",D.extend({},f.optgroups[l],{html:u})))):c.push(a[l].join(""));if(y.html(c.join("")),f.settings.highlight&&v.query.length&&v.tokens.length)for(t=0,w=v.tokens.length;t<w;t++)!function(e,t){var s,r;if("string"!=typeof t||t.length)s="string"==typeof t?new RegExp(t,"i"):t,r=function(e){var t=0;if(3===e.nodeType){var i,n,a=e.data.search(s);0<=a&&0<e.data.length&&(n=e.data.match(s),(i=document.createElement("span")).className="highlight",(a=e.splitText(a)).splitText(n[0].length),n=a.cloneNode(!0),i.appendChild(n),a.parentNode.replaceChild(i,a),t=1)}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var o=0;o<e.childNodes.length;++o)o+=r(e.childNodes[o]);return t},e.each(function(){r(this)})}(y,v.tokens[t].regex);if(!f.settings.hideSelected)for(t=0,w=f.items.length;t<w;t++)f.getOption(f.items[t]).addClass("selected");(h=f.canCreate(m))&&(y.prepend(f.render("option_create",{input:m})),g=D(y[0].childNodes[0])),f.hasOptions=0<v.items.length||h,f.hasOptions?(0<v.items.length?((m=b&&f.getOption(b))&&m.length?p=m:"single"===f.settings.mode&&f.items.length&&(p=f.getOption(f.items[0])),p&&p.length||(p=g&&!f.settings.addPrecedence?f.getAdjacentOption(g,1):y.find("[data-selectable]:first"))):p=g,f.setActiveOption(p),e&&!f.isOpen&&f.open()):(f.setActiveOption(null),e&&f.isOpen&&f.close())},addOption:function(e){var t,i,n,a=this;if(D.isArray(e))for(t=0,i=e.length;t<i;t++)a.addOption(e[t]);else(n=a.registerOption(e))&&(a.userOptions[n]=!0,a.lastQuery=null,a.trigger("option_add",n,e))},registerOption:function(e){var t=C(e[this.settings.valueField]);return!(!t||this.options.hasOwnProperty(t))&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=C(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,t){var i,n,a,o=this;if(e=C(e),i=C(t[o.settings.valueField]),null!==e&&o.options.hasOwnProperty(e)){if("string"!=typeof i)throw new Error("Value must be set in option data");a=o.options[e].$order,i!==e&&(delete o.options[e],-1!==(n=o.items.indexOf(e))&&o.items.splice(n,1,i)),t.$order=t.$order||a,o.options[i]=t,n=o.renderCache.item,a=o.renderCache.option,n&&(delete n[e],delete n[i]),a&&(delete a[e],delete a[i]),-1!==o.items.indexOf(i)&&(n=o.getItem(e),a=D(o.render("item",t)),n.hasClass("active")&&a.addClass("active"),n.replaceWith(a)),o.lastQuery=null,o.isOpen&&o.refreshOptions(!1)}},removeOption:function(e,t){var i=this,n=(e=C(e),i.renderCache.item),a=i.renderCache.option;n&&delete n[e],a&&delete a[e],delete i.userOptions[e],delete i.options[e],i.lastQuery=null,i.trigger("option_remove",e),i.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,t){var i=this.$dropdown.find("[data-selectable]"),e=i.index(e)+t;return 0<=e&&e<i.length?i.eq(e):D()},getElementWithValue:function(e,t){if(null!=(e=C(e)))for(var i=0,n=t.length;i<n;i++)if(t[i].getAttribute("data-value")===e)return D(t[i]);return D()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(e,t){for(var i=D.isArray(e)?e:[e],n=0,a=i.length;n<a;n++)this.isPending=n<a-1,this.addItem(i[n],t)},addItem:function(o,s){i(this,s?[]:["change"],function(){var e,t,i,n=this,a=n.settings.mode;o=C(o),-1!==n.items.indexOf(o)?"single"===a&&n.close():n.options.hasOwnProperty(o)&&("single"===a&&n.clear(s),"multi"===a&&n.isFull()||(e=D(n.render("item",n.options[o])),i=n.isFull(),n.items.splice(n.caretPos,0,o),n.insertAtCaret(e),n.isPending&&(i||!n.isFull())||n.refreshState(),n.isSetup&&(i=n.$dropdown_content.find("[data-selectable]"),n.isPending||(t=n.getOption(o),t=n.getAdjacentOption(t,1).attr("data-value"),n.refreshOptions(n.isFocused&&"single"!==a),t&&n.setActiveOption(n.getOption(t))),!i.length||n.isFull()?n.close():n.positionDropdown(),n.updatePlaceholder(),n.trigger("item_add",o,e),n.updateOriginalInput({silent:s}))))})},removeItem:function(e,t){var i,n,a=this,o="object"==typeof e?e:a.getItem(e);e=C(o.attr("data-value")),-1!==(i=a.items.indexOf(e))&&(o.remove(),o.hasClass("active")&&(n=a.$activeItems.indexOf(o[0]),a.$activeItems.splice(n,1)),a.items.splice(i,1),a.lastQuery=null,!a.settings.persist&&a.userOptions.hasOwnProperty(e)&&a.removeOption(e,t),i<a.caretPos&&a.setCaret(a.caretPos-1),a.refreshState(),a.updatePlaceholder(),a.updateOriginalInput({silent:t}),a.positionDropdown(),a.trigger("item_remove",e,o))},createItem:function(e,i){var n=this,a=n.caretPos,o=(e=e||D.trim(n.$control_input.val()||""),arguments[arguments.length-1]);if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof i&&(i=!0),!n.canCreate(e))return o(),!1;n.lock();var t,s,r="function"==typeof n.settings.create?this.settings.create:function(e){var t={};return t[n.settings.labelField]=e,t[n.settings.valueField]=e,t},l=(s=!(t=function(e){var t;return n.unlock(),!e||"object"!=typeof e||"string"!=typeof(t=C(e[n.settings.valueField]))?o():(n.setTextboxValue(""),n.addOption(e),n.setCaret(a),n.addItem(t),n.refreshOptions(i&&"single"!==n.settings.mode),void o(e))}),function(){s||(s=!0,t.apply(this,arguments))}),r=r.apply(this,[e,l]);return void 0!==r&&l(r),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var e=this;e.isRequired&&(e.items.length&&(e.isInvalid=!1),e.$control_input.prop("required",void 0)),e.refreshClasses()},refreshClasses:function(){var e=this,t=e.isFull(),i=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",i).toggleClass("full",t).toggleClass("not-full",!t).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!D.isEmptyObject(e.options)).toggleClass("has-items",0<e.items.length),e.$control_input.data("grow",!t&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,i,n,a,o=this;if(e=e||{},1===o.tagType){for(n=[],t=0,i=o.items.length;t<i;t++)a=o.options[o.items[t]][o.settings.labelField]||"",n.push('<option value="'+r(o.items[t])+'" selected="selected">'+r(a)+"</option>");n.length||this.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),o.$input.html(n.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&!e.silent&&o.trigger("change",o.$input.val())},updatePlaceholder:function(){var e;this.settings.placeholder&&(e=this.$control_input,this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0}))},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(e){var t=Math.min(this.caretPos,this.items.length);0===t?this.$control.prepend(e):D(this.$control[0].childNodes[t]).before(e),this.setCaret(t+1)},deleteSelection:function(e){var t,i,n,a,o,s=this,r=e&&8===e.keyCode?-1:1,l=u(s.$control_input[0]);if(s.$activeOption&&!s.settings.hideSelected&&(a=s.getAdjacentOption(s.$activeOption,-1).attr("data-value")),n=[],s.$activeItems.length){for(o=s.$control.children(".active:"+(0<r?"last":"first")),o=s.$control.children(":not(input)").index(o),0<r&&o++,t=0,i=s.$activeItems.length;t<i;t++)n.push(D(s.$activeItems[t]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(s.isFocused||"single"===s.settings.mode)&&s.items.length&&(r<0&&0===l.start&&0===l.length?n.push(s.items[s.caretPos-1]):0<r&&l.start===s.$control_input.val().length&&n.push(s.items[s.caretPos]));if(!n.length||"function"==typeof s.settings.onDelete&&!1===s.settings.onDelete.apply(s,[n]))return!1;for(void 0!==o&&s.setCaret(o);n.length;)s.removeItem(n.pop());return s.showInput(),s.positionDropdown(),s.refreshOptions(!0),a&&(e=s.getOption(a)).length&&s.setActiveOption(e),!0},advanceSelection:function(e,t){var i,n,a,o=this;0!==e&&(o.rtl&&(e*=-1),i=0<e?"last":"first",a=u(o.$control_input[0]),o.isFocused&&!o.isInputHidden?(n=o.$control_input.val().length,(e<0?0!==a.start||0!==a.length:a.start!==n)||n||o.advanceCaret(e,t)):(a=o.$control.children(".active:"+i)).length&&(n=o.$control.children(":not(input)").index(a),o.setActiveItem(null),o.setCaret(0<e?n+1:n)))},advanceCaret:function(e,t){var i,n=this;0!==e&&(n.isShiftDown?(i=n.$control_input[0<e?"next":"prev"]()).length&&(n.hideInput(),n.setActiveItem(i),t&&t.preventDefault()):n.setCaret(n.caretPos+e))},setCaret:function(e){var t=this;if(e="single"===t.settings.mode?t.items.length:Math.max(0,Math.min(t.items.length,e)),!t.isPending)for(var i,n=t.$control.children(":not(input)"),a=0,o=n.length;a<o;a++)i=D(n[a]).detach(),a<e?t.$control_input.before(i):t.$control.append(i);t.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var e=this,t=e.eventNS,i=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),D(window).off(t),D(document).off(t),D(document.body).off(t),delete e.$input[0].selectize},render:function(e,t){var i,n="",a=!1,o=this,s=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return(a="option"!==e&&"item"!==e?a:!!(i=C(t[o.settings.valueField])))&&(l(o.renderCache[e])||(o.renderCache[e]={}),o.renderCache[e].hasOwnProperty(i))?o.renderCache[e][i]:(n=o.settings.render[e].apply(this,[t,r]),"option"!==e&&"option_create"!==e||(n=n.replace(s,"<$1 data-selectable")),"optgroup"===e&&(t=t[o.settings.optgroupValueField]||"",n=n.replace(s,'<$1 data-group="'+d(r(t))+'"')),"option"!==e&&"item"!==e||(n=n.replace(s,'<$1 data-value="'+d(r(i||""))+'"')),a&&(o.renderCache[e][i]=n),n)},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){var t;return!!this.settings.create&&(t=this.settings.createFilter,e.length&&("function"!=typeof t||t.apply(this,[e]))&&("string"!=typeof t||new RegExp(t).test(e))&&(!(t instanceof RegExp)||t.test(e)))}}),h.count=0,h.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},D.fn.selectize=function(d){function c(e,a){function t(e,t){e=D(e);var i,n=C(e.attr("value"));(n||m.allowEmptyOption)&&(l.hasOwnProperty(n)?t&&((i=l[n][w])?D.isArray(i)?i.push(t):l[n][w]=[i,t]:l[n][w]=t):((i=d(e)||{})[y]=i[y]||e.text(),i[b]=i[b]||n,i[w]=i[w]||t,l[n]=i,r.push(i),e.is(":selected")&&a.items.push(n)))}var i,n,o,s,r=a.options,l={},d=function(e){e=v&&e.attr(v);return"string"==typeof e&&e.length?JSON.parse(e):null};for(a.maxItems=e.attr("multiple")?null:1,i=0,n=(s=e.children()).length;i<n;i++)if("optgroup"===(o=s[i].tagName.toLowerCase())){g=p=h=u=c=void 0;var c,u,h,p,g,f=s[i];for((h=(f=D(f)).attr("label"))&&((p=d(f)||{})[S]=h,p[k]=h,a.optgroups.push(p)),c=0,u=(g=D("option",f)).length;c<u;c++)t(g[c],h)}else"option"===o&&t(s[i])}var u=D.fn.selectize.defaults,m=D.extend({},u,d),v=m.dataAttr,y=m.labelField,b=m.valueField,w=m.optgroupField,S=m.optgroupLabelField,k=m.optgroupValueField;return this.each(function(){if(!this.selectize){var e=D(this),t=this.tagName.toLowerCase(),i=e.attr("placeholder")||e.attr("data-placeholder"),i={placeholder:i=i||m.allowEmptyOption?i:e.children('option[value=""]').text(),options:[],optgroups:[],items:[]};if("select"===t)c(e,i);else{var n,a,o,s,t=e,r=i,l=t.attr(v);if(l)for(r.options=JSON.parse(l),n=0,a=r.options.length;n<a;n++)r.items.push(r.options[n][b]);else{l=D.trim(t.val()||"");if(m.allowEmptyOption||l.length){for(n=0,a=(o=l.split(m.delimiter)).length;n<a;n++)(s={})[y]=o[n],s[b]=o[n],r.options.push(s);r.items=o}}}new h(e,D.extend(!0,{},u,i,d))}})},D.fn.selectize.defaults=h.defaults,D.fn.selectize.support={validity:y},h.define("drag_drop",function(e){if(!D.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');var n,t,i,a;"multi"===this.settings.mode&&((n=this).lock=(t=n.lock,function(){var e=n.$control.data("sortable");return e&&e.disable(),t.apply(n,arguments)}),n.unlock=(i=n.unlock,function(){var e=n.$control.data("sortable");return e&&e.enable(),i.apply(n,arguments)}),n.setup=(a=n.setup,function(){a.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var e=n.$activeItems?n.$activeItems.slice():null,t=[];i.children("[data-value]").each(function(){t.push(D(this).attr("data-value"))}),n.setValue(t),n.setActiveItem(e)}})}))}),h.define("dropdown_header",function(e){var t,i=this;e=D.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},e),i.setup=(t=i.setup,function(){t.apply(i,arguments),i.$dropdown_header=D(e.html(e)),i.$dropdown.prepend(i.$dropdown_header)})}),h.define("optgroup_columns",function(s){function e(){var e,t,i,n,a=D("[data-group]",r.$dropdown_content),o=a.length;if(o&&r.$dropdown_content.width()){if(s.equalizeHeight){for(e=t=0;e<o;e++)t=Math.max(t,a.eq(e).height());a.css({height:t})}s.equalizeWidth&&(n=r.$dropdown_content.innerWidth()-l(),i=Math.round(n/o),a.css({width:i}),1<o&&(n=n-i*(o-1),a.eq(o-1).css({width:n})))}}var n,r=this,l=(s=D.extend({equalizeWidth:!0,equalizeHeight:!0},s),this.getAdjacentOption=function(e,t){var i=e.closest("[data-group]").find("[data-selectable]"),e=i.index(e)+t;return 0<=e&&e<i.length?i.eq(e):D()},this.onKeyDown=(n=r.onKeyDown,function(e){var t,i;if(!this.isOpen||37!==e.keyCode&&39!==e.keyCode)return n.apply(this,arguments);r.ignoreHover=!0,t=(i=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),(i=(e=(i=37===e.keyCode?i.prev("[data-group]"):i.next("[data-group]")).find("[data-selectable]")).eq(Math.min(e.length-1,t))).length&&this.setActiveOption(i)}),function(){var e,t=l.width,i=document;return void 0===t&&((e=i.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,i.body.appendChild(e),t=l.width=e.offsetWidth-e.clientWidth,i.body.removeChild(e)),t});(s.equalizeHeight||s.equalizeWidth)&&(t.after(this,"positionDropdown",e),t.after(this,"refreshOptions",e))}),h.define("remove_button",function(e){var t,o,i;"single"!==this.settings.mode&&(e=D.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e),t=this,o='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+r(e.title)+'">'+e.label+"</a>",this.setup=(i=t.setup,function(){var a;e.append&&(a=t.settings.render.item,t.settings.render.item=function(e){return t=a.apply(this,arguments),i=o,n=t.search(/(<\/[^>]+>\s*)$/),t.substring(0,n)+i+t.substring(n);var t,i,n}),i.apply(this,arguments),this.$control.on("click","."+e.className,function(e){e.preventDefault(),t.isLocked||(e=D(e.currentTarget).parent(),t.setActiveItem(e),t.deleteSelection()&&t.setCaret(t.items.length))})}))}),h.define("restore_on_backspace",function(i){var n,e=this;i.text=i.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(n=e.onKeyDown,function(e){var t;if(!(8===e.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(t=this.caretPos-1)&&t<this.items.length))return n.apply(this,arguments);t=this.options[this.items[t]],this.deleteSelection(e)&&(this.setTextboxValue(i.text.apply(this,[t])),this.refreshOptions(!0)),e.preventDefault()})}),h}),angular.module("selectize",[]).value("selectizeConfig",{}).directive("selectize",["selectizeConfig",function(c){return{restrict:"EA",require:"^ngModel",scope:{ngModel:"=",config:"=?",options:"=?",ngDisabled:"=",ngRequired:"&"},link:function(i,e,t,n){function a(e){e?r.disable():r.enable()}function o(t,e){angular.forEach(e,function(e){-1===t.indexOf(e)&&(e=e[l.valueField],r.removeOption(e=null==e?"-1":e,!0))}),r.addOption(t,!0),r.refreshOptions(!1),s()}function s(){d(),r.$control.toggleClass("ng-valid",n.$valid),r.$control.toggleClass("ng-invalid",n.$invalid),r.$control.toggleClass("ng-dirty",n.$dirty),r.$control.toggleClass("ng-pristine",n.$pristine),angular.equals(r.items,i.ngModel)||r.setValue(i.ngModel,!0)}var r,l=angular.extend({},Selectize.defaults,c,i.config),d=(i.options=i.options||[],i.config=i.config||{},function(){var e=(i.ngRequired()||t.required||l.required)&&(null==(e=i.ngModel)||!e.length);n.$setValidity("required",!e)});l.onChange=function(e){e=angular.copy(r.items);1==l.maxItems&&(e=e[0]),n.$setViewValue(e),i.config.onChange&&i.config.onChange.apply(this,arguments)},l.onOptionAdd=function(e,t){-1===i.options.indexOf(t)&&(i.options.push(t),i.config.onOptionAdd&&i.config.onOptionAdd.apply(this,arguments))},l.onInitialize=function(){r=e[0].selectize,o(i.options,[]),i.config.onInitialize&&i.config.onInitialize(r),i.$watchCollection("options",o),i.$watch("ngModel",s),i.$watch("ngDisabled",a)},e.selectize(l),e.on("$destroy",function(){r&&(r.destroy(),e=null)})}}}]);